(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{592:function(v,_,e){"use strict";e.r(_);var o=e(22),n=Object(o.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("p",[v._v("路由器的几个基本命令：")]),v._v(" "),e("p",[v._v("Router>enable 进入特权模式")]),v._v(" "),e("p",[v._v("Router#disable 从特权模式返回到用户模式")]),v._v(" "),e("p",[v._v("Router#configure terminal 进入到全局配置模式")]),v._v(" "),e("p",[v._v("Router(config)#interface ethernet 1 进入到路由器编号为1的以太网口")]),v._v(" "),e("p",[v._v("exit 返回上层模式 end 直接返回到特权模式")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("注意：")]),v._v(" "),e("p",[v._v("1、CISCO CATALYST（交换机），如果在初始化时没有发现“用户配置”文件，就会自动载入Default Settings（默认配置）文件，进行交换机初始化，以确保交换机正常工作。")]),v._v(" "),e("p",[v._v("2、CISCO Router（路由器）在初始化时，如果没有发现“用户配置”文件，系统会自动进入到“初始化配置模式”（系统配置对话模式，SETUP模式， STEP BY STEP CONFIG模式），不能正常工作！")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("1、CONSOLE PORT（管理控制台接口）：距离上限制，独占的方式。刚开始配置的时候一般使用这个。")]),v._v(" "),e("p",[v._v("2、AUX port（辅助管理接口）：可以挂接MODEM实现远程管理，独占的方式。")]),v._v(" "),e("p",[v._v("3、Telnet：多人远程管理（决定于性能，VTY线路数量）不安全。后期维护，远程管理登陆。")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("注意：")]),v._v(" "),e("p",[v._v("交换机、路由器配置命令都是回车后立即执行，立即生效的。在运行中的机器上修改命令的时候要特别注意。")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("Router(config)#hostname ? WORD This system’s network name")]),v._v(" "),e("p",[v._v("在配置模式下修改当前主机的本地标识，例： —————— Router(config)#hostname r11 r11(config)# ——————")]),v._v(" "),e("p",[v._v("r11(config-if)#ip address ? A.B.C.D IP address 为当前端口设置IP地址，使用前先进入需要配置的端口，例： —————— r11(config)#interface ethernet 1 r11(config-if)#ip address 172.16.1.1 255.255.255.0 ——————")]),v._v(" "),e("p",[v._v("r11>show version r11#show version 观察IOS版本，设备工作时间，相关接口列表")]),v._v(" "),e("p",[v._v("r11#show running-config 查看当前生效的配置，此配置文件存储在RAM")]),v._v(" "),e("p",[v._v("r11#show interfaces ethernet 1 查看以太网接口的状态，工作状态等等等…")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("r11#reload 重新加载Router（重启）")]),v._v(" "),e("p",[v._v("r11#setup 手工进入setup配置模式")]),v._v(" "),e("p",[v._v("r11#show history 查看历史命令（最近刚用过的命令）")]),v._v(" "),e("p",[v._v("r11#terminal history size <0-256> 设置命令缓冲区大小，0 : 代表不缓存")]),v._v(" "),e("p",[v._v("r11#copy running-config startup-config 保存当前配置")]),v._v(" "),e("p",[v._v("注意概念：")]),v._v(" "),e("p",[v._v("nvram：非易失性内存，断电信息不会丢失 <– 用户配置 <– 保存着startup-config")]),v._v(" "),e("p",[v._v("ram：随机存储器，断电信息全部丢失 <– 当前生效配置 <– 保存着running-config")]),v._v(" "),e("p",[v._v("startup-config：在每次路由器或是交换机启动时候，会主动加载（默认情况）")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("设置说明和密码的几个命令：")]),v._v(" "),e("p",[v._v("r11(config)#banner motd [char c] 同时要以[char c]另起一行结束，描述机器登陆时的说明")]),v._v(" "),e("p",[v._v("r11(config-if)#description 描述接口注释，需要在端口配置模式下")]),v._v(" "),e("p",[v._v("配置console口密码： —————— r11(config)#line console 0 进入到consolo 0")]),v._v(" "),e("p",[v._v("r11(config-line)#password eliuzd 设置一个密码为“eliuzd”")]),v._v(" "),e("p",[v._v("r11(config-line)#login 设置login（登陆）时使用密码 ——————")]),v._v(" "),e("p",[v._v("配置enable密码： —————— r11(config)#enable password cisco 设置明文的enable密码")]),v._v(" "),e("p",[v._v("r11(config)#enable secret eliuzd 设置暗文的enable密码（优先于明文被使用）")]),v._v(" "),e("p",[v._v("r11(config)#service password-encryption 加密系统所有明文密码（功能较弱） ——————")]),v._v(" "),e("p",[v._v("配置Telnet密码： —————— r11(config)#line vty 0")]),v._v(" "),e("p",[v._v("r11(config-line)#password cisco")]),v._v(" "),e("p",[v._v("r11(config-line)#login ——————")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("配置虚拟回环接口：（回环接口默认为UP状态）")]),v._v(" "),e("p",[v._v("(config)# 下，虚拟一个端口")]),v._v(" "),e("p",[v._v("—————— r11(config)#interface loopback 0 创建一个回环接口loopback 0")]),v._v(" "),e("p",[v._v("r11(config-if)#ip address 192.168.1.1 255.255.255.0 配置它的IP地址")]),v._v(" "),e("p",[v._v("no * 做配置的反向操作（删除配置） ——————")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("路由器 DCE/DTE 仅存在广域网中")]),v._v(" "),e("p",[v._v("r11#show controllers serial 0 用于查看DCE与DTE的属性，serial 0路由器广域网端口")]),v._v(" "),e("p",[v._v("DCE的Router需要配置时钟频率")]),v._v(" "),e("p",[v._v("r11(config-if)#clock rate ? 配置DCE接口的时钟频率（系统指定频率）")]),v._v(" "),e("p",[v._v("一般实际情况下，这个不需要自己配置，因为DCE设备都在运营商那。")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("r11#show interfaces serial 1 查看端口状态，第一行提示说明")]),v._v(" "),e("p",[v._v("Serial1 is administratively down, Line protocol is down 没有使用no shutdown命令激活端口")]),v._v(" "),e("p",[v._v("Serial1 is down, Line protocol is down 1、对方没有no shutdown激活端口 2、线路损坏，接口没有任何连接线缆")]),v._v(" "),e("p",[v._v("Serial1 is up, line protocol is down 1、对方没有配置相同的二层协议，Serial接口default encapsulation: HDLC 2、可能没有配置时钟频率 3、可能没有正确的配置三层地址（可能）")]),v._v(" "),e("p",[v._v("Serial1 is up，line protocol is up 接口工作正常")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("查看CDP信息的几个命令：")]),v._v(" "),e("p",[v._v("r11#show cdp neighbors 查看CDP的邻居（不含IP）")]),v._v(" "),e("p",[v._v("r11#show cdp neighbors detail 查看CDP的邻居（包含三层的IP地址）")]),v._v(" "),e("p",[v._v("r11#show cdp entry * 查看CDP的邻居（包含三层的IP地址）老命令")]),v._v(" "),e("p",[v._v("r1(config)#no cdp run 在全局配置模式关闭CDP协议（影响所有的接口）")]),v._v(" "),e("p",[v._v("r1(config-if)#no cdp enable 在接口下关闭CDP协议（仅仅影响指定的接口）")]),v._v(" "),e("p",[v._v("r11#clear cdp table 清除CDP邻居表")]),v._v(" "),e("p",[v._v("r11#show cdp interface serial 1 查看接口的CDP信息")]),v._v(" "),e("p",[v._v("注意两个提示：")]),v._v(" "),e("p",[v._v("Sending CDP packets every 60 seconds（每60秒发送cdp数据包）")]),v._v(" "),e("p",[v._v("HoldTime 180 seconds（每个cdp数据包保持180秒）")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("r11(config)#ip host 设置静态的主机名映射")]),v._v(" "),e("p",[v._v("r11#show sessions 查看设置过的映射主机名")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("Telnet "),e("em",[v._v(".")]),v._v("."),e("em",[v._v(".")]),v._v(" 被telnet的设备，需要设置line vty的密码，如果需要进入特权模式需要配置enable密码")]),v._v(" "),e("p",[v._v("例： —————— Router#telnet 192.168.1.1 ——————")]),v._v(" "),e("p",[v._v("Router#show users 查看登录到本地的用户 Router#show sessions 查看从本地telnet外出的会话")]),v._v(" "),e("p",[v._v("Router#clear line * 强制中断“telnet到本地”的会话 Router#disconnect * 强制中断“telnet外出”的会话")]),v._v(" "),e("p",[v._v("=========================================================")]),v._v(" "),e("p",[v._v("以下只是在实验时连接交换机上切换登陆路由器的命令，可以跳过。")]),v._v(" "),e("blockquote",[e("p",[v._v("show hosts 显示当前的主机名配置 >show sessions 显示当前的外出TELNET会话")])]),v._v(" "),e("blockquote",[e("p",[v._v("clear line XXX 清除线路")])]),v._v(" "),e("p",[v._v("+ 直接返回到特权模式 ++<6> + x")])])}),[],!1,null,null,null);_.default=n.exports}}]);