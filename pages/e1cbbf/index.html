<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql增删改查 | 小诺文档中心</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <meta name="description" content="运维技术文档,mysql,k8s,docker,linux,shell,python等技术文章。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="运维技术文档,mysql,k8s,docker,linux,shell,python,技术文档,学习,面试,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.92233c96.css" as="style"><link rel="preload" href="/assets/js/app.38f1b0a4.js" as="script"><link rel="preload" href="/assets/js/2.6beb1dc7.js" as="script"><link rel="preload" href="/assets/js/49.d92deee5.js" as="script"><link rel="prefetch" href="/assets/js/10.4365b950.js"><link rel="prefetch" href="/assets/js/100.8dac6c81.js"><link rel="prefetch" href="/assets/js/101.a5556ac1.js"><link rel="prefetch" href="/assets/js/102.e3ff38b9.js"><link rel="prefetch" href="/assets/js/103.3bcf44f5.js"><link rel="prefetch" href="/assets/js/104.6d56e53e.js"><link rel="prefetch" href="/assets/js/105.4fc9762e.js"><link rel="prefetch" href="/assets/js/106.f507561a.js"><link rel="prefetch" href="/assets/js/107.6c94c756.js"><link rel="prefetch" href="/assets/js/108.f7ff1945.js"><link rel="prefetch" href="/assets/js/109.aeb1e532.js"><link rel="prefetch" href="/assets/js/11.fe1ff844.js"><link rel="prefetch" href="/assets/js/110.dda67b83.js"><link rel="prefetch" href="/assets/js/111.5b990f24.js"><link rel="prefetch" href="/assets/js/112.0a27d3a0.js"><link rel="prefetch" href="/assets/js/113.972cd001.js"><link rel="prefetch" href="/assets/js/114.875814a1.js"><link rel="prefetch" href="/assets/js/115.ec235d59.js"><link rel="prefetch" href="/assets/js/116.03bd2386.js"><link rel="prefetch" href="/assets/js/117.68765825.js"><link rel="prefetch" href="/assets/js/118.9d6d0255.js"><link rel="prefetch" href="/assets/js/119.ff84a82f.js"><link rel="prefetch" href="/assets/js/12.aa21f453.js"><link rel="prefetch" href="/assets/js/120.20639785.js"><link rel="prefetch" href="/assets/js/121.6c546150.js"><link rel="prefetch" href="/assets/js/122.48e85de5.js"><link rel="prefetch" href="/assets/js/123.fc931745.js"><link rel="prefetch" href="/assets/js/124.797d5fda.js"><link rel="prefetch" href="/assets/js/125.b23a31c7.js"><link rel="prefetch" href="/assets/js/126.d7a182fd.js"><link rel="prefetch" href="/assets/js/127.167a63d6.js"><link rel="prefetch" href="/assets/js/128.878d4a7e.js"><link rel="prefetch" href="/assets/js/129.a8957dfa.js"><link rel="prefetch" href="/assets/js/13.161be064.js"><link rel="prefetch" href="/assets/js/130.3961a295.js"><link rel="prefetch" href="/assets/js/131.9c4e7a56.js"><link rel="prefetch" href="/assets/js/132.41d26584.js"><link rel="prefetch" href="/assets/js/133.6d91047e.js"><link rel="prefetch" href="/assets/js/134.121ecf0e.js"><link rel="prefetch" href="/assets/js/135.6e30234c.js"><link rel="prefetch" href="/assets/js/136.6fab7ce4.js"><link rel="prefetch" href="/assets/js/137.209af36e.js"><link rel="prefetch" href="/assets/js/138.660f236e.js"><link rel="prefetch" href="/assets/js/139.81c29d19.js"><link rel="prefetch" href="/assets/js/14.d0f13635.js"><link rel="prefetch" href="/assets/js/140.d8f594ca.js"><link rel="prefetch" href="/assets/js/141.89fbea1c.js"><link rel="prefetch" href="/assets/js/142.643bccec.js"><link rel="prefetch" href="/assets/js/143.f270bffc.js"><link rel="prefetch" href="/assets/js/144.cf6f4c9a.js"><link rel="prefetch" href="/assets/js/145.093699b5.js"><link rel="prefetch" href="/assets/js/146.876575d0.js"><link rel="prefetch" href="/assets/js/147.dc120635.js"><link rel="prefetch" href="/assets/js/148.4a3ba80f.js"><link rel="prefetch" href="/assets/js/149.4afb7469.js"><link rel="prefetch" href="/assets/js/15.af46dbb5.js"><link rel="prefetch" href="/assets/js/150.4eb38cf2.js"><link rel="prefetch" href="/assets/js/151.4fe6a931.js"><link rel="prefetch" href="/assets/js/16.4cbf8beb.js"><link rel="prefetch" href="/assets/js/17.1da2b6ae.js"><link rel="prefetch" href="/assets/js/18.0402bfbf.js"><link rel="prefetch" href="/assets/js/19.230bfe93.js"><link rel="prefetch" href="/assets/js/20.0d20ddb2.js"><link rel="prefetch" href="/assets/js/21.9dbdbc8b.js"><link rel="prefetch" href="/assets/js/22.1410508d.js"><link rel="prefetch" href="/assets/js/23.63089216.js"><link rel="prefetch" href="/assets/js/24.e6fe9306.js"><link rel="prefetch" href="/assets/js/25.1240d0c9.js"><link rel="prefetch" href="/assets/js/26.0f4fb46d.js"><link rel="prefetch" href="/assets/js/27.5b193a22.js"><link rel="prefetch" href="/assets/js/28.90e27733.js"><link rel="prefetch" href="/assets/js/29.cdb75f6c.js"><link rel="prefetch" href="/assets/js/3.1229de89.js"><link rel="prefetch" href="/assets/js/30.23c0524a.js"><link rel="prefetch" href="/assets/js/31.bc292e1e.js"><link rel="prefetch" href="/assets/js/32.79645dcf.js"><link rel="prefetch" href="/assets/js/33.53e29142.js"><link rel="prefetch" href="/assets/js/34.7ce01d2e.js"><link rel="prefetch" href="/assets/js/35.bcdc888c.js"><link rel="prefetch" href="/assets/js/36.00ce19aa.js"><link rel="prefetch" href="/assets/js/37.e53fea30.js"><link rel="prefetch" href="/assets/js/38.1b84e50f.js"><link rel="prefetch" href="/assets/js/39.ed0470cb.js"><link rel="prefetch" href="/assets/js/4.93dbb352.js"><link rel="prefetch" href="/assets/js/40.010f2420.js"><link rel="prefetch" href="/assets/js/41.7aefa9d2.js"><link rel="prefetch" href="/assets/js/42.eadeaa1f.js"><link rel="prefetch" href="/assets/js/43.012419aa.js"><link rel="prefetch" href="/assets/js/44.aa86bffd.js"><link rel="prefetch" href="/assets/js/45.b7ce8c1a.js"><link rel="prefetch" href="/assets/js/46.bd51c47b.js"><link rel="prefetch" href="/assets/js/47.71d2a52e.js"><link rel="prefetch" href="/assets/js/48.71b9430b.js"><link rel="prefetch" href="/assets/js/5.9228d2a8.js"><link rel="prefetch" href="/assets/js/50.2827e7a9.js"><link rel="prefetch" href="/assets/js/51.94c41d82.js"><link rel="prefetch" href="/assets/js/52.73681932.js"><link rel="prefetch" href="/assets/js/53.4db7ebcf.js"><link rel="prefetch" href="/assets/js/54.8e6699ab.js"><link rel="prefetch" href="/assets/js/55.3d832a8c.js"><link rel="prefetch" href="/assets/js/56.43282683.js"><link rel="prefetch" href="/assets/js/57.ea8d4f37.js"><link rel="prefetch" href="/assets/js/58.12ff8ca5.js"><link rel="prefetch" href="/assets/js/59.47100612.js"><link rel="prefetch" href="/assets/js/6.341b2c5d.js"><link rel="prefetch" href="/assets/js/60.914e7e2d.js"><link rel="prefetch" href="/assets/js/61.d9414480.js"><link rel="prefetch" href="/assets/js/62.a3747f73.js"><link rel="prefetch" href="/assets/js/63.1a2e54c1.js"><link rel="prefetch" href="/assets/js/64.d9f9224a.js"><link rel="prefetch" href="/assets/js/65.53e3f7bd.js"><link rel="prefetch" href="/assets/js/66.92d44566.js"><link rel="prefetch" href="/assets/js/67.67aba1d2.js"><link rel="prefetch" href="/assets/js/68.acce7dfb.js"><link rel="prefetch" href="/assets/js/69.3dacbd45.js"><link rel="prefetch" href="/assets/js/7.3d063b98.js"><link rel="prefetch" href="/assets/js/70.b40c0f61.js"><link rel="prefetch" href="/assets/js/71.51b34635.js"><link rel="prefetch" href="/assets/js/72.498f4ff0.js"><link rel="prefetch" href="/assets/js/73.b22c0978.js"><link rel="prefetch" href="/assets/js/74.823f2a12.js"><link rel="prefetch" href="/assets/js/75.d24d261d.js"><link rel="prefetch" href="/assets/js/76.44db605e.js"><link rel="prefetch" href="/assets/js/77.efce42e9.js"><link rel="prefetch" href="/assets/js/78.11405a06.js"><link rel="prefetch" href="/assets/js/79.9f0076d7.js"><link rel="prefetch" href="/assets/js/8.812a9a47.js"><link rel="prefetch" href="/assets/js/80.4fc1dc52.js"><link rel="prefetch" href="/assets/js/81.f8963444.js"><link rel="prefetch" href="/assets/js/82.627d5503.js"><link rel="prefetch" href="/assets/js/83.49c45765.js"><link rel="prefetch" href="/assets/js/84.b2045805.js"><link rel="prefetch" href="/assets/js/85.420cfd4a.js"><link rel="prefetch" href="/assets/js/86.06ff7ec2.js"><link rel="prefetch" href="/assets/js/87.4dfb234a.js"><link rel="prefetch" href="/assets/js/88.079f044f.js"><link rel="prefetch" href="/assets/js/89.bb76f78f.js"><link rel="prefetch" href="/assets/js/9.8be13208.js"><link rel="prefetch" href="/assets/js/90.ae61c8f3.js"><link rel="prefetch" href="/assets/js/91.8728eb6a.js"><link rel="prefetch" href="/assets/js/92.0d8581e8.js"><link rel="prefetch" href="/assets/js/93.e05baea5.js"><link rel="prefetch" href="/assets/js/94.c661a216.js"><link rel="prefetch" href="/assets/js/95.5414604a.js"><link rel="prefetch" href="/assets/js/96.529def2c.js"><link rel="prefetch" href="/assets/js/97.fb2d6168.js"><link rel="prefetch" href="/assets/js/98.69e544d7.js"><link rel="prefetch" href="/assets/js/99.a7993a79.js">
    <link rel="stylesheet" href="/assets/css/0.styles.92233c96.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="小诺文档中心" class="logo"> <span class="site-name can-hide">小诺文档中心</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="https://opersdev.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小诺博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/devops/" class="nav-link">DevOps</a></div><div class="nav-item"><a href="/k8s/" class="nav-link">云原生</a></div><div class="nav-item"><a href="/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/wzdh/" class="nav-link">网址导航</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/opersdev" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/opersdev/docs/img/touxiang.jpg"> <div class="blogger-info"><h3>kevin</h3> <span>运维界的菜鸟</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="https://opersdev.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小诺博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/devops/" class="nav-link">DevOps</a></div><div class="nav-item"><a href="/k8s/" class="nav-link">云原生</a></div><div class="nav-item"><a href="/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/wzdh/" class="nav-link">网址导航</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/opersdev" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/af8481/" class="sidebar-link">redis</a></li><li><a href="/pages/67e803/" class="sidebar-link">mysql</a></li><li><a href="/pages/e1cbbf/" aria-current="page" class="active sidebar-link">mysql增删改查</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/e1cbbf/#" class="sidebar-link"></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/e1cbbf/#数据查询语言" class="sidebar-link">数据查询语言</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#基础查询" class="sidebar-link">#基础查询</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#查询单个字段" class="sidebar-link">#查询单个字段</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#查询多个字段" class="sidebar-link">#查询多个字段</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#查询常量值" class="sidebar-link">#查询常量值</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#查询表达式" class="sidebar-link">#查询表达式</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#查询函数" class="sidebar-link">#查询函数</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#去重" class="sidebar-link">#去重</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#条件查询" class="sidebar-link">#条件查询</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#按条件表达式筛选" class="sidebar-link">#按条件表达式筛选</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#按逻辑表达式筛选" class="sidebar-link">#按逻辑表达式筛选</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#模糊查询" class="sidebar-link">#模糊查询</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#排序查询" class="sidebar-link">#排序查询</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#一、单行函数" class="sidebar-link">一、单行函数</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#数学函数-2" class="sidebar-link">数学函数</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#日期函数" class="sidebar-link">日期函数</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#其他函数" class="sidebar-link">其他函数</a></li><li class="sidebar-sub-header level6"><a href="/pages/e1cbbf/#流程控制函数" class="sidebar-link">流程控制函数</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#二、分组函数" class="sidebar-link">二、分组函数</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#分组查询" class="sidebar-link">分组查询</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#简单分组查询" class="sidebar-link">简单分组查询</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#连接查询" class="sidebar-link">连接查询</a></li><li class="sidebar-sub-header level3"><a href="/pages/e1cbbf/#_9-索引" class="sidebar-link">9.索引</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#普通索引和唯一索引" class="sidebar-link">普通索引和唯一索引</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#单列索引和组合索引" class="sidebar-link">单列索引和组合索引</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#索引的设计原则" class="sidebar-link">索引的设计原则</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#创建索引" class="sidebar-link">创建索引</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#创建普通索引" class="sidebar-link">创建普通索引</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#创建唯一索引" class="sidebar-link">创建唯一索引</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#创建单列索引" class="sidebar-link">创建单列索引</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#创建组合索引" class="sidebar-link">创建组合索引</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#创建全文索引" class="sidebar-link">创建全文索引</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#创建空间索引" class="sidebar-link">创建空间索引</a></li><li class="sidebar-sub-header level5"><a href="/pages/e1cbbf/#在已经存在的表上创建索引" class="sidebar-link">在已经存在的表上创建索引</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#删除索引" class="sidebar-link">删除索引</a></li><li class="sidebar-sub-header level4"><a href="/pages/e1cbbf/#综合案例-创建索引" class="sidebar-link">综合案例--创建索引</a></li></ul></li></ul></li><li><a href="/pages/613b69/" class="sidebar-link">postgresql安装</a></li><li><a href="/pages/8ae632/" class="sidebar-link">oracle笔记</a></li><li><a href="/pages/765fc1/" class="sidebar-link">opengauss笔记</a></li><li><a href="/pages/82abc5/" class="sidebar-link">达梦笔记</a></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/dba/#数据库" data-v-06225672>数据库</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/opersdev" target="_blank" title="作者" class="beLink" data-v-06225672>xiaonuo</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-06-15</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">mysql增删改查<!----></h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h3 id="myslq数据类型"><a href="#myslq数据类型" class="header-anchor">#</a> myslq数据类型</h3> <p>MySQL支持多种数据类型，主要有数值类型、日期/时间类型和字符串类型。</p> <p>(1)数值数据类型:包括整数类型TINYINT. SMALLINT, MEDIUMINT, INT、BIGINT、
浮点小数数据类型FLOAT和DOUBLE,定点小数类型DECIMAL。
(2)日期/时间类型:包括YEAR、TIME、DATE、DATETIME和TIMESTAMP。
(3)字符串类型:包括CHAR、VARCHAR、BINARY、VARBINARY. BLOB、TEXT.
ENUM和SET等。字符串类型又分为文本字符串和二进制字符串。</p> <h4 id="整数类型"><a href="#整数类型" class="header-anchor">#</a> 整数类型</h4> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a94143c67bb.png" alt="image-20211027110557974"></p> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a941440f0b8.png" alt="image-20211027110615788"></p> <h4 id="浮点数类型和定点数类型"><a href="#浮点数类型和定点数类型" class="header-anchor">#</a> 浮点数类型和定点数类型</h4> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a941444b638.png" alt="image-20211027110858182"></p> <h4 id="日期与时间类型"><a href="#日期与时间类型" class="header-anchor">#</a> 日期与时间类型</h4> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a9414484867.png" alt="image-20211027111418209"></p> <h4 id="文本字符串类型"><a href="#文本字符串类型" class="header-anchor">#</a> 文本字符串类型</h4> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a94144c1319.png" alt="image-20211027111844494"></p> <h4 id="二进制字符串类型"><a href="#二进制字符串类型" class="header-anchor">#</a> 二进制字符串类型</h4> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a9414511882.png" alt="image-20211027112151385"></p> <h3 id="常见运算符"><a href="#常见运算符" class="header-anchor">#</a> 常见运算符</h3> <h4 id="_1-算术运算符"><a href="#_1-算术运算符" class="header-anchor">#</a> 1.算术运算符</h4> <p>算术运算符用于各类数值运算，包括加(+)、减(-)、乘(*)、除(/)、求余(或称模运算，%)。</p> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a941454f177.png" alt="image-20211027112819946"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tmp14 <span class="token punctuation">(</span>num <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> num<span class="token punctuation">,</span> num<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span> num<span class="token operator">-</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">,</span> num<span class="token operator">+</span><span class="token number">5</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> num<span class="token operator">+</span><span class="token number">36.5</span> <span class="token keyword">from</span> tmp14<span class="token punctuation">;</span>
<span class="token keyword">select</span> num<span class="token punctuation">,</span> num<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span> num <span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> num<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span> num<span class="token operator">%</span><span class="token number">3</span> <span class="token keyword">from</span> tpm14<span class="token punctuation">;</span>
<span class="token keyword">select</span> num<span class="token punctuation">,</span> num <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">,</span> num <span class="token operator">%</span><span class="token number">0</span> <span class="token keyword">from</span> tmp14<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2-比较运算符"><a href="#_2-比较运算符" class="header-anchor">#</a> 2.比较运算符</h4> <p>比较运算符用于比较运算。包括大于(&gt;) 、小于(&lt;)、等于(=)、大于等于(&gt;=)、小于等于(&lt;=)、不等于(!=)，以及IN、BETWEEN AND、IS NULL、GREATEST、LEAST、LIKE、REGEXP等。</p> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a9414588e87.png" alt="image-20211027112802613"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'0,02'</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token operator">=</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token operator">=</span><span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token number">1</span><span class="token operator">&lt;=&gt;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token operator">&lt;=&gt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">&lt;=&gt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'0.02'</span><span class="token operator">&lt;=&gt;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token operator">&lt;=&gt;</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;=&gt;</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token operator">&lt;=&gt;</span><span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token string">'good'</span><span class="token operator">&lt;&gt;</span><span class="token string">'god'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">&lt;&gt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">!=</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5.5</span><span class="token operator">!=</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token operator">&lt;&gt;</span><span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token string">'good'</span><span class="token operator">&lt;=</span><span class="token string">'god'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">&lt;=</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5.5</span><span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token operator">&lt;=</span><span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token string">'good'</span><span class="token operator">&lt;</span><span class="token string">'god'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5.5</span><span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token operator">&lt;</span><span class="token boolean">null</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_3-逻辑运算符"><a href="#_3-逻辑运算符" class="header-anchor">#</a> 3.逻辑运算符</h4> <p>逻辑运算符的求值所得结果均为1 (TRUE)、0 (FALSE)，这类运算符有逻辑非(NOT或者!)、逻辑与(AND或者&amp;&amp;)、逻辑或(OR或者|)、逻辑异或(XOR)。</p> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a94145c0f69.png" alt="image-20211027113729596"></p> <h4 id="_4-位操作运算符"><a href="#_4-位操作运算符" class="header-anchor">#</a> 4.位操作运算符</h4> <p>位操作运算符参与运算的操作数按二进制位进行运算。包括位与(&amp;)、位或(|)、位非(~)、位异或(^)、左移(&lt;&lt;)、右移(&gt;&gt;)6种。</p> <p><img src="https://cdn.jsdelivr.net/gh/opersdev/image/i/2022/06/15/62a941460701f.png" alt="image-20211027113815699"></p> <h4 id="综合案例"><a href="#综合案例" class="header-anchor">#</a> 综合案例</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tmp15 <span class="token punctuation">(</span>note <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> price <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> tmp15 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&quot;Thisisgood&quot;</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> price<span class="token punctuation">,</span>price<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span>price<span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>price<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span>price<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>price<span class="token operator">%</span><span class="token number">3</span> <span class="token keyword">from</span> tmp15<span class="token punctuation">;</span>

<span class="token keyword">select</span> price<span class="token punctuation">,</span>price<span class="token operator">&gt;</span><span class="token number">10</span><span class="token punctuation">,</span>price<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">,</span>price<span class="token operator">!=</span><span class="token number">10</span><span class="token punctuation">,</span>price<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>price<span class="token operator">&lt;=&gt;</span><span class="token number">10</span><span class="token punctuation">,</span>price<span class="token operator">&lt;&gt;</span><span class="token number">10</span> <span class="token keyword">from</span> tmp15<span class="token punctuation">;</span>

<span class="token keyword">select</span> price<span class="token punctuation">,</span>price <span class="token operator">between</span> <span class="token number">30</span> <span class="token operator">and</span> <span class="token number">80</span><span class="token punctuation">,</span>GREATEST<span class="token punctuation">(</span>price<span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>price <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">)</span> <span class="token keyword">from</span> tmp15<span class="token punctuation">;</span>

<span class="token keyword">select</span> note <span class="token punctuation">,</span>note <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">,</span>note <span class="token operator">like</span> <span class="token string">'t%'</span><span class="token punctuation">,</span>note <span class="token operator">REGEXP</span> <span class="token string">'$y'</span><span class="token punctuation">,</span>note <span class="token operator">REGEXP</span> <span class="token string">'[gm]'</span> <span class="token keyword">from</span> tmp15<span class="token punctuation">;</span>

<span class="token keyword">select</span> price<span class="token punctuation">,</span>price<span class="token operator">&amp;&amp;</span><span class="token number">1</span><span class="token punctuation">,</span>price<span class="token operator">&amp;&amp;</span><span class="token boolean">null</span><span class="token punctuation">,</span>price<span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">,</span>price <span class="token operator">and</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span> <span class="token operator">and</span> <span class="token boolean">null</span><span class="token punctuation">,</span>price <span class="token operator">or</span> <span class="token boolean">null</span> <span class="token keyword">from</span> tmp15<span class="token punctuation">;</span>

<span class="token keyword">select</span> price<span class="token punctuation">,</span><span class="token operator">!</span>price<span class="token punctuation">,</span><span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>price <span class="token operator">xor</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span> <span class="token operator">xor</span> <span class="token boolean">null</span><span class="token punctuation">,</span> price <span class="token operator">xor</span> <span class="token number">0</span> <span class="token keyword">from</span> tmp15<span class="token punctuation">;</span>

<span class="token keyword">select</span> price<span class="token punctuation">,</span>price<span class="token operator">&amp;</span><span class="token number">2</span><span class="token punctuation">,</span>price<span class="token operator">|</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">~</span>price <span class="token keyword">from</span> tmp15<span class="token punctuation">;</span>
<span class="token keyword">select</span> price<span class="token punctuation">,</span>price<span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token punctuation">,</span>price<span class="token operator">&gt;&gt;</span><span class="token number">2</span> <span class="token keyword">from</span> tmp15<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>mysql使用特殊字符需要转义 \</p> <h3 id="mysql函数"><a href="#mysql函数" class="header-anchor">#</a> mysql函数</h3> <h4 id="数学函数"><a href="#数学函数" class="header-anchor">#</a> 数学函数</h4> <p>绝对值函数ABS(x)和返回圆周率的函数PI()</p> <p>select ABS(2), ABS(-3.3), ABS(-33);
select pi();</p> <p>平方根函数SQRT(x)和求余函数MOD(x,y)</p> <p>select sqrt(9) sqrt(40), sqrt(-49);
select mod(31,8)</p> <p>获取整数的函数CEIL(x)、CEILING(x)和FLOOR(x)</p> <p>select CEIL(3.35),CEILING(3.35);
select FLOOR(-3.35),FLOOR(3.35);</p> <p>获取随机数的函数RAND()和RAND(x)</p> <p>select RAND(),RAND(),RAND();
select RAND(10),RAND(10),RAND(11);</p> <p>函数ROUND(x),ROUND(x,y)和TRUNCATE(x,y)</p> <p>四舍五入</p> <p>select round(-1.14),round(-1.67),round(1.14),round(1.66);
select round(1.38,1),round(1.38,0),round(232.38,-1),round(232.38,-2);</p> <p>返回被舍去至小数点后y位的数字x</p> <p>select rtuncate(1.31,1), truncate(1,99,1),truncate(1.99,0), truncate(19.99,-1);</p> <p>符号函数SIGN(x)</p> <p>select SIGN(-21),SIGN(0),SIGN(21);</p> <p>幂运算函数POW(x,y),POWER(x,y)和EXP(x)</p> <p>select POW(2,2),POWER(2,2),POW(2,-2),POWER(2,-2)
select EXP(3),EXP(-3),EXP(0)；</p> <p>对数运算函数LOG(x)和LOG10(x)</p> <h3 id="创建数据表"><a href="#创建数据表" class="header-anchor">#</a> 创建数据表</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp1
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="使用主键约束"><a href="#使用主键约束" class="header-anchor">#</a> 使用主键约束</h4> <h5 id="单字段主键"><a href="#单字段主键" class="header-anchor">#</a> 单字段主键</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp2
<span class="token punctuation">(</span>

id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

在定义完所有列之后指定主键
<span class="token keyword">constraint</span> 约束名 <span class="token keyword">primary</span> <span class="token keyword">key</span> 字段名

<span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp3
<span class="token punctuation">(</span>

id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span><span class="token punctuation">,</span>
<span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h5 id="多字段联合主键"><a href="#多字段联合主键" class="header-anchor">#</a> 多字段联合主键</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp4
<span class="token punctuation">(</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span><span class="token punctuation">,</span>
<span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>deptid<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="外键约束"><a href="#外键约束" class="header-anchor">#</a> 外键约束</h5> <p>constraint 外键名 foreign key 字段名1,字段名2 references 主表名 主键列1,主键列2</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_dept1
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
location <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp5
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span><span class="token punctuation">,</span>
<span class="token keyword">constraint</span> fk_emp_dept1 <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>deptid<span class="token punctuation">)</span> <span class="token keyword">references</span> tb_dept1<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h5 id="使用非空约束"><a href="#使用非空约束" class="header-anchor">#</a> 使用非空约束</h5> <p>字段名 数据类型 not null</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp6
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="使用唯一性约束"><a href="#使用唯一性约束" class="header-anchor">#</a> 使用唯一性约束</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_dept2
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
location <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> tb_dept3
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
location <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">constraint</span> sth <span class="token keyword">unique</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h5 id="使用默认约束"><a href="#使用默认约束" class="header-anchor">#</a> 使用默认约束</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp7
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">1111</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="设置表的自增"><a href="#设置表的自增" class="header-anchor">#</a> 设置表的自增</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp8
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_emp8 <span class="token punctuation">(</span>name<span class="token punctuation">,</span>salary<span class="token punctuation">)</span>
<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'lucy'</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'Lura'</span><span class="token punctuation">,</span><span class="token number">1200</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'Kevin'</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="查看数据表结构"><a href="#查看数据表结构" class="header-anchor">#</a> 查看数据表结构</h4> <h5 id="基本结构语句"><a href="#基本结构语句" class="header-anchor">#</a> 基本结构语句</h5> <p>describe 表名</p> <h5 id="表的详细结构语句"><a href="#表的详细结构语句" class="header-anchor">#</a> 表的详细结构语句</h5> <p>show create table 表名\G;</p> <h3 id="修改数据表"><a href="#修改数据表" class="header-anchor">#</a> 修改数据表</h3> <h5 id="修改表名"><a href="#修改表名" class="header-anchor">#</a> 修改表名</h5> <p>alter table 旧表名 rename to 新表名;</p> <h5 id="修改字段的数据类型"><a href="#修改字段的数据类型" class="header-anchor">#</a> 修改字段的数据类型</h5> <p>alter table 表名 modify 字段名 数据类型
alter table tb_dept1 modify name varchar(30);</p> <h5 id="修改字段名"><a href="#修改字段名" class="header-anchor">#</a> 修改字段名</h5> <p>alter table 表名 change 旧字段名 新字段名 新数据类型；
alter table tb_dept1 change location loc varchar(50);</p> <h5 id="添加字段"><a href="#添加字段" class="header-anchor">#</a> 添加字段</h5> <p>alter table 表名 add 新字段名 数据类型
约束条件 first|after 已存在字段名;</p> <p>添加无完整条件约束条件的字段
alter table tb_dept1 add managerid int(10);</p> <p>添加有完整性约束条件的字段
alter table tb_dept1 add column1 varchar(12) not null;</p> <p>在表的第一列添加字段
alter table tb_dept1 add column2 int(11) first;</p> <p>在表的指定列之后添加一个字段
alter table tb_dept1 add column3 int(11) after name;</p> <h5 id="删除字段"><a href="#删除字段" class="header-anchor">#</a> 删除字段</h5> <p>alter table 表名 drop 字段名;
alter table tb_dept1 drop column2;</p> <h5 id="修改字段的排列位置"><a href="#修改字段的排列位置" class="header-anchor">#</a> 修改字段的排列位置</h5> <p>alter table 表名 modify 字段1 数据类型 first|after 字段2;</p> <p>修改字段为表的第一个字段
alter table tb_dept1 modify column1 varchar(11) first;</p> <p>修改字段到表的指定列之后
alter table tb_dept1 modify column1 varchar(12) after location;</p> <h5 id="更改表的存储引擎"><a href="#更改表的存储引擎" class="header-anchor">#</a> 更改表的存储引擎</h5> <p>alter table tb_deptment3 ENGINE=MyISAM;</p> <h5 id="删除表的外键约束"><a href="#删除表的外键约束" class="header-anchor">#</a> 删除表的外键约束</h5> <p>alter table 表名 drop foreign key 外键约束名;</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp9
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span><span class="token punctuation">,</span>
<span class="token keyword">constraint</span> fk_emp_dept <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>deptid<span class="token punctuation">)</span> <span class="token keyword">references</span> tb_dept1<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> tb_emp9 <span class="token keyword">drop</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> fk_emp_dept<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="删除数据表"><a href="#删除数据表" class="header-anchor">#</a> 删除数据表</h4> <p>删除数据表就是将数据库中已经存在的表从数据库中删除。注意，在删除表的同时，表的定义和表中所有的数据均会被删除。因此，在进行删除操作前，最好对表中的数据做个备份，以免造成无法挽回的后果。本节将详细讲解数据库表的删除方法。</p> <h5 id="删除没有被关联的表"><a href="#删除没有被关联的表" class="header-anchor">#</a> 删除没有被关联的表</h5> <p>drop table [IF EXISTS] 表1,表2,表3
drop table if exists tb_dept2;</p> <h5 id="删除被其他表关联的主表"><a href="#删除被其他表关联的主表" class="header-anchor">#</a> 删除被其他表关联的主表</h5> <p>数据表之间存在外键关联的情况下，如果直接删除父表，结果会显示失败。原因是直接删除，将破坏表的参照完整性。如果必须要删除，可以先删除与它关联的子表，再删除父表，只是这样同时删除了两个表中的数据。但有的情况下可能要保留子表，这时如要单独删除父表，只需将关联的表的外键约束条件取消，然后就可以删除父表。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_dept2
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
location <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> tb_emp
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
deptid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
salary <span class="token keyword">float</span><span class="token punctuation">,</span>
<span class="token keyword">constraint</span> fk_emp_dept <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>deptid<span class="token punctuation">)</span> <span class="token keyword">references</span> tb_dept2<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>解除关联子表tb_emp的外键约束
alter table tb_emp drop foreign key fk_emp_dept;</p> <p>再将原来的父表tb_dept2删除</p> <h4 id="综合案列"><a href="#综合案列" class="header-anchor">#</a> 综合案列</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> company<span class="token punctuation">;</span>
<span class="token keyword">use</span> company<span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> offices
<span class="token punctuation">(</span>
officecode <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
city <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
country <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
postalcode <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
<span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>officecode<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> employees
<span class="token punctuation">(</span>
employeenumber <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
lastname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
firstname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
mobile <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
officecode <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
jobtitle <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token punctuation">,</span>
birth <span class="token keyword">datetime</span><span class="token punctuation">,</span> <span class="token operator">not</span> <span class="token boolean">null</span>
note <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
sex <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">constraint</span> office_fk <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>officecode<span class="token punctuation">)</span> <span class="token keyword">references</span> offices<span class="token punctuation">(</span>officecode<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> employees <span class="token keyword">modify</span> mobile <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token keyword">after</span> officecode<span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> employees change birth employee_birth <span class="token keyword">datetime</span><span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> employees <span class="token keyword">modify</span> sex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> employees <span class="token keyword">drop</span> note<span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> employees <span class="token keyword">add</span> favoriate_activity <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> employees <span class="token keyword">drop</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> office_fk<span class="token punctuation">;</span>

<span class="token keyword">drop</span> <span class="token keyword">table</span> offices<span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> employees <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM<span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> employees <span class="token keyword">rename</span> employees_info<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h4 id="练习题"><a href="#练习题" class="header-anchor">#</a> 练习题</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> customers
<span class="token punctuation">(</span>
c_num <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
c_birth <span class="token keyword">datetime</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
<span class="token keyword">constraint</span> sth <span class="token keyword">unique</span><span class="token punctuation">(</span>c_num<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>


c_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> 
c_contact <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
c_city <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> customers <span class="token keyword">add</span> c_gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> customers <span class="token keyword">add</span> c_contact <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">after</span> c_birth<span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> customers change c_name c_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">desc</span> customers_info

<span class="token keyword">alter</span> <span class="token keyword">table</span> customers <span class="token keyword">rename</span> customers_info<span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> customers_info <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM<span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> orders
<span class="token punctuation">(</span>
o_num <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
o_date <span class="token keyword">date</span><span class="token punctuation">,</span>
c_id <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
<span class="token keyword">CONSTRAINT</span> fk_num <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>c_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> customers_info<span class="token punctuation">(</span>c_num<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> c_num<span class="token punctuation">,</span>c_name<span class="token punctuation">,</span>c_birth <span class="token keyword">from</span> customers_info<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="插入、更新与删除数据"><a href="#插入、更新与删除数据" class="header-anchor">#</a> 插入、更新与删除数据</h3> <h4 id="插入数据"><a href="#插入数据" class="header-anchor">#</a> 插入数据</h4> <h5 id="为表的所有字段插入数据"><a href="#为表的所有字段插入数据" class="header-anchor">#</a> 为表的所有字段插入数据</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> person <span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">''</span><span class="token punctuation">,</span>
age <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">,</span>
info <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
<span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> person <span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>info<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'Green'</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token string">'Lawyer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> person <span class="token punctuation">(</span>age<span class="token punctuation">,</span>name<span class="token punctuation">,</span>id<span class="token punctuation">,</span>info<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token string">'Suse'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'dancer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> person <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'Mary'</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token string">'Musician'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h5 id="为表的指定字段插入数据"><a href="#为表的指定字段插入数据" class="header-anchor">#</a> 为表的指定字段插入数据</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> person <span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>info<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'Willam'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'sports man'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> person <span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'Laura'</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="同时插入多条记录"><a href="#同时插入多条记录" class="header-anchor">#</a> 同时插入多条记录</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> person<span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>info<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'Evans'</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">,</span><span class="token string">'secretary'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'Dale'</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token string">'cook'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'Edison'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token string">'singer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> person <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token string">'Harry'</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token string">'magician'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'Harriet'</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">'pianist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="将查询结果插入到表中"><a href="#将查询结果插入到表中" class="header-anchor">#</a> 将查询结果插入到表中</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> table_name1 <span class="token punctuation">(</span>column_list1<span class="token punctuation">)</span> <span class="token keyword">select</span> <span class="token punctuation">(</span>column_list2<span class="token punctuation">)</span> <span class="token keyword">from</span> table_name2 <span class="token keyword">where</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> person_old
<span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">''</span><span class="token punctuation">,</span>
age <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">,</span>
info <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
<span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> person_old <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token string">'Harry'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'student'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token string">'Bechham'</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token string">'police'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> person<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>info<span class="token punctuation">)</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>info <span class="token keyword">from</span> person_old<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="更新数据"><a href="#更新数据" class="header-anchor">#</a> 更新数据</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>

<span class="token keyword">update</span> person <span class="token keyword">set</span> age<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'LiMing'</span> <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">19</span> <span class="token operator">and</span> <span class="token number">22</span><span class="token punctuation">;</span>

<span class="token keyword">update</span> person <span class="token keyword">set</span> info<span class="token operator">=</span><span class="token string">'student'</span> <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">19</span> <span class="token operator">and</span> <span class="token number">22</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="删除数据"><a href="#删除数据" class="header-anchor">#</a> 删除数据</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">19</span> <span class="token operator">and</span> <span class="token number">22</span><span class="token punctuation">;</span>

<span class="token keyword">delete</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">19</span> <span class="token operator">and</span> <span class="token number">22</span><span class="token punctuation">;</span>

<span class="token keyword">delete</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="综合案例-2"><a href="#综合案例-2" class="header-anchor">#</a> 综合案例</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> books
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
authors <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
price <span class="token keyword">float</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
pubdate <span class="token keyword">year</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
note <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
num <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> books<span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> books <span class="token punctuation">(</span> id<span class="token punctuation">,</span> NAME<span class="token punctuation">,</span> AUTHORS<span class="token punctuation">,</span> price<span class="token punctuation">,</span> pubdate<span class="token punctuation">,</span> note<span class="token punctuation">,</span> num <span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
	<span class="token punctuation">(</span>
	<span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'Tale of AAA'</span><span class="token punctuation">,</span><span class="token string">'Dickes'</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token string">'1995'</span><span class="token punctuation">,</span><span class="token string">'novel'</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
<span class="token keyword">insert</span> <span class="token keyword">into</span> books <span class="token keyword">values</span>
	<span class="token punctuation">(</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'EmmaT'</span><span class="token punctuation">,</span><span class="token string">'Jane lura'</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token string">'1993'</span><span class="token punctuation">,</span><span class="token string">'joke'</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">insert</span> <span class="token keyword">into</span> books <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'story of Jane'</span><span class="token punctuation">,</span><span class="token string">'Jane Tim'</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string">'2001'</span><span class="token punctuation">,</span><span class="token string">'novel'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">'Lovey Day'</span><span class="token punctuation">,</span><span class="token string">'George Byron'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'2005'</span><span class="token punctuation">,</span><span class="token string">'novel'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">'Old Land'</span><span class="token punctuation">,</span><span class="token string">'Honore Blade'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">'2010'</span><span class="token punctuation">,</span><span class="token string">'law'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">'The Battle'</span><span class="token punctuation">,</span><span class="token string">'Upton Sara'</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token string">'1999'</span><span class="token punctuation">,</span><span class="token string">'medicine'</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">'Rose Hood'</span><span class="token punctuation">,</span><span class="token string">'Richard Kale'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token string">'2008'</span><span class="token punctuation">,</span><span class="token string">'cartoon'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">update</span> books <span class="token keyword">set</span> price<span class="token operator">=</span>price<span class="token operator">+</span><span class="token number">5</span> <span class="token keyword">where</span> note<span class="token operator">=</span><span class="token string">'novel'</span><span class="token punctuation">;</span>

<span class="token keyword">update</span> books <span class="token keyword">set</span> price<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span>note<span class="token operator">=</span><span class="token string">'drama'</span> <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'EmmaT'</span><span class="token punctuation">;</span>

<span class="token keyword">delete</span> <span class="token keyword">from</span> books <span class="token keyword">where</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> books <span class="token keyword">where</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="练习题-2"><a href="#练习题-2" class="header-anchor">#</a> 练习题</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> pet 
<span class="token punctuation">(</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
owner <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
species <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
sex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
birth <span class="token keyword">year</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
death <span class="token keyword">year</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> pet<span class="token punctuation">(</span>name<span class="token punctuation">,</span>owner<span class="token punctuation">,</span>species<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>birth<span class="token punctuation">,</span>death<span class="token punctuation">)</span> <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token string">'Fluffy'</span><span class="token punctuation">,</span><span class="token string">'Harold'</span><span class="token punctuation">,</span><span class="token string">'cat'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">,</span><span class="token number">2003</span><span class="token punctuation">,</span><span class="token number">2010</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Claws'</span><span class="token punctuation">,</span><span class="token string">'Gwen'</span><span class="token punctuation">,</span><span class="token string">'cat'</span><span class="token punctuation">,</span><span class="token string">'m'</span><span class="token punctuation">,</span><span class="token number">2004</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> pet<span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> pet <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token string">'Buffy'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'dog'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">,</span><span class="token number">2009</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Fang'</span><span class="token punctuation">,</span><span class="token string">'Benny'</span><span class="token punctuation">,</span><span class="token string">'dog'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Bowser'</span><span class="token punctuation">,</span><span class="token string">'Diane'</span><span class="token punctuation">,</span><span class="token string">'dog'</span><span class="token punctuation">,</span><span class="token string">'m'</span><span class="token punctuation">,</span><span class="token number">2003</span><span class="token punctuation">,</span><span class="token number">2009</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Chirpy'</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'bird'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id=""><a href="#" class="header-anchor">#</a></h2> <h3 id="数据查询语言"><a href="#数据查询语言" class="header-anchor">#</a> 数据查询语言</h3> <h4 id="基础查询"><a href="#基础查询" class="header-anchor">#</a> #基础查询</h4> <p>SELECT
*
FROM
myemployees.<code>departments</code></p> <h5 id="查询单个字段"><a href="#查询单个字段" class="header-anchor">#</a> #查询单个字段</h5> <p>SELECT
manager_id
FROM
departments</p> <h5 id="查询多个字段"><a href="#查询多个字段" class="header-anchor">#</a> #查询多个字段</h5> <p>SELECT
manager_id,
department_id,
<code>location_id</code>
FROM
departments</p> <p>#查询表中所有字段</p> <p>SELECT * FROM departments</p> <h5 id="查询常量值"><a href="#查询常量值" class="header-anchor">#</a> #查询常量值</h5> <p>SELECT 100;
SELECT 'john';</p> <h5 id="查询表达式"><a href="#查询表达式" class="header-anchor">#</a> #查询表达式</h5> <p>SELECT 100*98;
SELECT 100%98;</p> <h5 id="查询函数"><a href="#查询函数" class="header-anchor">#</a> #查询函数</h5> <p>SELECT VERSION();</p> <p>#起别名
/*
a.便于理解
b.如果要查询的字段有重名的情况，使用别名来区分开来
*/</p> <p>SELECT 100%98 AS 结果;
SELECT last_name AS 姓,first_name AS 名 FROM employees;</p> <p>SELECT last_name 姓,first_name 名 FROM employees;</p> <p>SELECT salary AS &quot;out put&quot; FROM employees;</p> <h5 id="去重"><a href="#去重" class="header-anchor">#</a> #去重</h5> <p>SELECT DISTINCT department_id FROM employees;</p> <p>+号的作用 仅仅只有一个功能：运算符</p> <p>/*
select '123'+90; 只要其中一方为字符型，试图将字符数值转换成数值型
select 'john'+90; 如果转换成功，则继续做加法运算，如果失败，则将字符型数值转换成0
select null+10; 只要其中一方为Null，则结果肯定为null.
*/
SELECT  CONCAT(last_name,'.',first_name) AS 姓名 FROM employees;</p> <p>DESC departments;</p> <p>SHOW CREATE DATABASE myemployees;</p> <p>SELECT IFNULL(commission_pct,0) AS 奖金率，commission_pct FROM employees;
SELECT CONCAT(<code>first_name</code>,',',<code>last_name</code>,',',<code>email</code>,',',IFNULL(commission_pct,0)) AS out_put FROM employees;</p> <p>​</p> <h4 id="条件查询"><a href="#条件查询" class="header-anchor">#</a> #条件查询</h4> <p>SELECT 查询列表 FROM 表名 WHERE 筛选条件</p> <p>/*</p> <p>按条件表达式筛选
条件运算符 &gt; &lt; = != &lt;&gt; &gt;= &lt;=
按逻辑表达式筛选
逻辑运算符 &amp;&amp; || ！   and or not
模糊查询 like
between and
in
is null</p> <p>*/</p> <h5 id="按条件表达式筛选"><a href="#按条件表达式筛选" class="header-anchor">#</a> #按条件表达式筛选</h5> <p>SELECT * FROM employees WHERE salary&gt;12000;<br>
SELECT last_name,department_id FROM employees WHERE department_id&lt;&gt;90;</p> <h5 id="按逻辑表达式筛选"><a href="#按逻辑表达式筛选" class="header-anchor">#</a> #按逻辑表达式筛选</h5> <p>SELECT last_name,salary FROM employees WHERE salary&gt;=10000 AND salary&lt;=20000;<br>
#查询部门编号不是在90到110之间，或者工资高于15000的员工信息<br>
SELECT * FROM employees WHERE NOT(department_id&gt;=90 OR department_id&lt;=110) OR salary&gt;15000;</p> <h4 id="模糊查询"><a href="#模糊查询" class="header-anchor">#</a> #模糊查询</h4> <p>/*
一般和通配符搭配使用
% 任意多个字符，包含0个字符
— 任意单个字符
\ 转义符
使用between and 可以提高语句的简洁度
包含临界值
不要改变位置
*/
SELECT * FROM employees WHERE last_name LIKE '%a%';<br>
SELECT last_name,salary FROM employees WHERE last_name LIKE '__a_t%';</p> <p>SELECT last_name FROM employees WHERE last_name LIKE '__%'</p> <p>#between and
SELECT * FROM employees WHERE employee_id BETWEEN 100 AND 120;</p> <p>in</p> <p>/*
判断某字段的值是否属于in列表中的某一项
使用in提高语句简洁度
要求值类型必须统一
*/</p> <p>SELECT last_name,job_id FROM employees WHERE job_id='IT_PROT' OR job_id='AD_VP' OR job_id='AD_PRES';</p> <div class="language- extra-class"><pre><code>  SELECT last_name,job_id FROM employees WHERE job_id IN('IT_PROT','AD_VP','AD_PRES');
  
# is null
SELECT last_name,commission_pct FROM employees WHERE commission_pct IS NOT NULL;
</code></pre></div><p>​<br>
​     #安全等于 &lt;=&gt;
​     SELECT last_name,commission_pct FROM employees WHERE commission_pct &lt;=&gt;NULL;
​<br>
​     SELECT last_name,salary employees WHERE salary &lt;=&gt; 12000;
​<br>
​      SELECT last_name,department_id,salary<em>12</em>(1+IFNULL(commission_pct,0)) 年薪 FROM employees;</p> <p>​</p> <p>SELECT last_name,salary FROM employees WHERE salary&gt;12000;
SELECT * FROM employees;</p> <p>SELECT employee_id,first_name,last_name,department_id,salary*12 FROM employees WHERE employee_id=176</p> <p>SELECT first_name,last_name,salary FROM employees WHERE NOT(salary&gt;5000 AND salary &lt;12000)</p> <p>SELECT department_id,first_name,last_name FROM employees WHERE department_id=20 OR department_id=50</p> <p>SELECT first_name,last_name,job_id,manager_id FROM employees WHERE manager_id IS NULL;</p> <p>SELECT first_name,last_name,commission_pct,salary FROM employees WHERE commission_pct IS NOT NULL;</p> <p>SELECT first_name,last_name FROM employees WHERE last_name LIKE '__a%';</p> <p>SELECT last_name,salary,commission_pct FROM employees WHERE commission_pct IS NULL AND salary&lt;18000;</p> <p>SELECT job_id,salary FROM employees WHERE NOT(job_id='IT_PROG') OR salary=9000</p> <p>SELECT DISTINCT location_id FROM departments</p> <p>​<br>
​</p> <h4 id="排序查询"><a href="#排序查询" class="header-anchor">#</a> #排序查询</h4> <p>SELECT * FROM employees;
SELECT * FROM employees ORDER BY salary ASC;
#asc 代表的是升序，DESC代表的是降序</p> <p>SELECT * FROM employees    WHERE department_id&gt;=90 ORDER BY hiredate ASC;</p> <p>SELECT <em>,salary</em>12*(1+IFNULL(commission_pct,0)) 年薪 FROM employees ORDER BY salary<em>12</em>(1+IFNULL(commission_pct,0)) DESC;</p> <p>SELECT <em>,salary</em>12*(1+IFNULL(commission_pct,0)) 年薪 FROM employees ORDER BY 年薪 DESC;</p> <p>SELECT LENGTH(last_name) 字节长度,last_name,salary FROM employees ORDER BY LENGTH(last_name) DESC;</p> <p>SELECT * FROM employees ORDER BY salary ASC,employee_id DESC;</p> <p>#order by 子句中可以支持单个，多个字段，表达式，函数，别名
#order by 子句一般是放在查询语句的最后面，但limit子句除外</p> <p>SELECT last_name,department_id,salary<em>12</em>(1+IFNULL(commission_pct,0)) 年薪 FROM employees ORDER BY 年薪 DESC,last_name ASC;
SELECT last_name,salary FROM employees WHERE NOT(salary&gt;=8000 AND salary&lt;=17000) ORDER BY salary DESC;
SELECT *,LENGTH(email) FROM employees WHERE email LIKE '%e%' ORDER BY LENGTH(email) DESC,department_id ASC;</p> <h4 id="一、单行函数"><a href="#一、单行函数" class="header-anchor">#</a> 一、单行函数</h4> <p>常见函数
#单行函数 concat、length、ifnull
#分组函数 又称为统计函数、聚合函数、组函数</p> <p>字符函数
LENGTH 获取参数值的字节个数
SELECT LENGTH('john');
SELECT LENGTH('张三丰hahaha');
SHOW VARIABLES LIKE '%char%';</p> <p>CONCAT 拼接字符串
SELECT CONCAT(last_name,'_',first_name) 姓名 FROM employees;</p> <p>upper、lower 大小写
SELECT UPPER('john');
SELECT CONCAT(UPPER(last_name),LOWER(first_name)) 姓名 FROM employees;</p> <p>substr、substring 截取返回
索引从1开始
SELECT SUBSTR('李莫愁爱上了陆展元',7) out_put;
截取从指定索引处指定字符长度的字符
SELECT SUBSTR('李莫愁爱上了陆展元',1,3) out_put;
SELECT CONCAT(UPPER(SUBSTR(last_name,1,1)),'_',LOWER(SUBSTR(last_name,2))) out_put FROM employees;</p> <p>INSTR 返回子串第一次出现的索引，如果找不到返回0
SELECT INSTR('杨不悔爱上了殷六侠','殷八侠') AS out_put;</p> <p>TRIM 去掉指定的字符
SELECT LENGTH(TRIM('张翠山')) AS out_put;</p> <p>SELECT TRIM('aa' FROM 'aaaaaaaaaaaaaaaaaa张aaaaaa翠山aaaaaaa') AS out_put;</p> <p>LPAD 用指定的字符实现左填充指定长度
SELECT LPAD('殷素素',10,'*') AS out_put;</p> <p>RPAD 用指定的字符实现右填充指定长度
SELECT RPAD('殷素素',10,'*') AS out_put;</p> <p>REPLACE 替换
SELECT REPLACE('周芷若周芷若周芷若周芷若爱上了张无忌','周芷若','赵敏') AS out_put;</p> <h5 id="数学函数-2"><a href="#数学函数-2" class="header-anchor">#</a> 数学函数</h5> <p>ROUND 四舍五入
SELECT ROUND(1.65);
SELECT ROUND(1.567,2);</p> <p>CEIL 向上取整,返回&gt;=该参数的最小整数
SELECT CEIL(1.00);</p> <p>FLOOR 向下取整，返回&lt;=该参数的最大整数
SELECT FLOOR(-9.99);</p> <p>TRUNCATE 截断
SELECT TRUNCATE(1.699,1);</p> <p>MOD 取余
SELECT MOD(10,3);</p> <h5 id="日期函数"><a href="#日期函数" class="header-anchor">#</a> 日期函数</h5> <p>YEAR
MINUTE
MONTH
MONTHNAME
DAY
HOUR
SECOND
NOW 当前系统时期时间
SELECT NOW();</p> <p>CURDATE 返回当前系统日期，不包含时间
CURTIME 返回当前系统时间，不包含日期</p> <p>SELECT CURDATE();
SELECT CURTIME();</p> <p>获取指定的部分，年、月、日、小时、分钟、秒
SELECT YEAR(NOW()) 年;
SELECT YEAR(hiredate) 年 FROM employees;
SELECT MONTHNAME(NOW()) 月;</p> <p>STR_TO_DATE 将日期格式的字符转换成指定格式的日期
DATE_FORMAT 将日期转换为字符</p> <h5 id="其他函数"><a href="#其他函数" class="header-anchor">#</a> 其他函数</h5> <p>SELECT VERSION();
SELECT DATABASE();
SELECT USER();</p> <h6 id="流程控制函数"><a href="#流程控制函数" class="header-anchor">#</a> 流程控制函数</h6> <p>if函数</p> <p>SELECT IF(10&gt;5,'大','小');
SELECT last_name,commission_pct,IF(commission_pct IS NULL,'没奖金嘻嘻','有资金') FROM employees;</p> <p>case函数使用方式一</p> <p>CASE 要判断的字段或表达式
WHEN 常量1 THEN 要显示的值1或者语句1
WHEN 常量2 THEN 要显示的值2或者语句2
...
ELSE 要显示的值n或者语句n;
END</p> <p>SELECT salary 原始工资,department_id,
CASE department_id
WHEN 30 THEN salary<em>1.1
WHEN 40 THEN salary</em>1.2
WHEN 50 THEN salary*1.3
ELSE salary
END AS 新工资
FROM employees;</p> <p>case函数使用方式二
CASE
WHEN 条件1 THEN 要显示的值1或语句1
WHEN 条件2 THEN 要显示的值2或语句2
...
ELSE 要显示的值n或者语句n
END</p> <p>SELECT salary,
CASE
WHEN salary&gt;20000 THEN 'A'
WHEN salary&gt;15000 THEN 'B'
WHEN salary&gt;10000 THEN 'C'
ELSE 'D'
END 工资评分
FROM employees;</p> <h4 id="二、分组函数"><a href="#二、分组函数" class="header-anchor">#</a> 二、分组函数</h4> <p>sum 求和，avg平均值，max最大值，min最小值,count计算个数</p> <p>SELECT SUM(salary) FROM employees;
SELECT AVG(salary) FROM employees;
SELECT MIN(salary) FROM employees;
SELECT MAX(salary) FROM employees;
SELECT COUNT(salary) FROM employees;</p> <p>SELECT SUM(salary) 和,AVG(salary) 平均,MAX(salary) 最高,MIN(salary) 最低,COUNT(salary) 个数 FROM employees;</p> <p>SELECT MAX(hiredate),MIN(hiredate) FROM employees;</p> <p>COUNT只计算不为空的字符
SUM,avg只处理数值型
MIN,MAX,COUNT 可以处理任何类型</p> <p>是否忽略Null
SELECT SUM(commission_pct),AVG(commission_pct),SUM(commission_pct)/35,SUM(commission_pct)/107 FROM employees;</p> <p>SELECT MAX(commission_pct),MIN(commission_pct) FROM employees;
SELECT COUNT(commission_pct) FROM employees;
SELECT commission_pct FROM employees;</p> <p>和distinct搭配
SELECT SUM(DISTINCT salary),SUM(salary) FROM employees;
SELECT COUNT(DISTINCT salary),COUNT(salary) FROM employees;</p> <p>count函数的详细介绍
SELECT COUNT(salary) FROM employees;
效率高的计算
SELECT COUNT(*) FROM employees;
SELECT COUNT(1) FROM employees;</p> <p>和分组函数一同查询的字段有限制
和分组函数一同查询的字段要求是group by后的字段</p> <p>相差天数
SELECT DATEDIFF(MAX(hiredate),MIN(hiredate)) FROM employees;</p> <h4 id="分组查询"><a href="#分组查询" class="header-anchor">#</a> 分组查询</h4> <p>group by 子句</p> <p>select 分组函数,列 （要求出现在group by的后面）
from 表
where 筛选条件
group by 分组的列表
order by 子句</p> <h5 id="简单分组查询"><a href="#简单分组查询" class="header-anchor">#</a> 简单分组查询</h5> <p>查询工种的最高工资
SELECT MAX(salary),job_id FROM employees GROUP BY job_id;</p> <p>查询每个位置上的部门个数
SELECT COUNT(*),location_id FROM departments GROUP BY location_id;</p> <p>添加筛选条件
查询邮箱中包含a字符的每个部门的平均工资
SELECT AVG(salary),department_id,email FROM employees WHERE email LIKE '%a%' GROUP BY department_id</p> <p>查询有奖金的每个领导手下员工的最高工资</p> <p>SELECT MAX(salary),manager_id FROM employees WHERE commission_pct IS NOT NULL GROUP BY manager_id;</p> <p>添加复杂的筛选条件
查询哪个部门的员工个数&gt;2</p> <p>SELECT COUNT(<em>),department_id FROM employees GROUP BY department_id
HAVING COUNT(</em>)&gt;2;</p> <p>查询每个工种有奖金的员工的最高工资&gt;12000的工程编号和最高工资</p> <p>SELECT MAX(salary),job_id
FROM employees WHERE commission_pct IS NOT NULL
GROUP BY job_id HAVING MAX(salary)&gt;12000;</p> <p>查询领导编号&gt;102的每个领导手下的最低工资&gt;5000的领导编号是哪个，以及其最低工资</p> <p>SELECT MIN(salary)manager_id
FROM employees WHERE department_id&gt;102
GROUP BY manager_id
HAVING MIN(salary)&gt;5000;</p> <p>分组查询中的筛选条件分为两类
分组前筛选 WHERE
分组后筛选  havin</p> <p>分组函数做条件肯定是放在having子句中
能用分组前筛选的，就优先考虑使用分组前筛选</p> <p>按表达式或函数分组</p> <p>按员工姓名的长度分组，查询每一组的员工个数，筛选员工个数&gt;5的有哪些</p> <p>SELECT COUNT(<em>),LENGTH(last_name)
FROM employees
GROUP BY LENGTH(last_name)
HAVING COUNT(</em>)&gt;5;</p> <p>按多个字段分组</p> <p>查询每个部门每个工种的员工的平均工资
SELECT CEIL(AVG(salary)) 平均,department_id,job_id
FROM employees
WHERE department_id IS NOT NULL
GROUP BY job_id,department_id
HAVING 平均&gt;10000
ORDER BY 平均 DESC;</p> <p>GROUP BY 子句支持单个字段分组，多个字段分组，表达式或函数
也可以添加排序</p> <h4 id="连接查询"><a href="#连接查询" class="header-anchor">#</a> 连接查询</h4> <p>SELECT * FROM beauty;</p> <p>SELECT NAME,boyName FROM beauty,boys WHERE beauty.boyfriend_id=boys.id;</p> <p>添加有效连接条件连接查询</p> <p>分类
按年代分类
sql192标准
sql199标准 推荐使用</p> <p>按功能分类
内连接：等值连接，非等值连接，自连接
外连接：左外连接，右外连接，全外连接
交叉连接</p> <p>查询员工名和对应的部门名</p> <p>SELECT last_name,department_name
FROM employees,departments
WHERE employees.<code>department_id</code>=departments.department_id;</p> <p>查询员工名，工种号，工种名
为表起别名 提高语句的简洁度，区分多个重名的字段
如果为表起了别名，则查询的字段就不能使用原表名
SELECT e.last_name,j.job_id,job_title
FROM employees AS e,jobs j
WHERE e.job_id=j.<code>job_id</code>;</p> <p>加筛选
查询有奖金的员工名，部门名</p> <p>SELECT last_name,department_name
FROM employees e,departments d
WHERE e.department_id=d.department_id
AND e.commission_pct IS NOT NULL;</p> <p>查询城市名中第二个字符为o的部门名和城市名</p> <p>SELECT department_name,city FROM departments d,locations l
WHERE d.location_id=l.location_id
AND city LIKE '_o%';</p> <p>查询每个城市的部门个数
SELECT COUNT(*),city FROM departments d,locations l
WHERE d.location_id=l.location_id
GROUP BY city;</p> <p>查询有奖金的每个部门的部门名和部门的领导编号和该部门的最低工资
SELECT MIN(salary),d.department_id,d.manager_id FROM departments d,employees e
WHERE d.department_id=e.department_id AND commission_pct IS NOT NULL
GROUP BY e.department_id,d.manager_id;</p> <p>查询每个工种的工种名和员工的个数，并且按员工个数降序</p> <p>SELECT COUNT(<em>),job_title FROM employees e,jobs j
WHERE e.job_id=j.job_id
GROUP BY e.job_id
ORDER BY COUNT(</em>) DESC;</p> <p>实现三表连接</p> <p>查询员工名，部门名和所在的城市
SELECT last_name,department_name,city
FROM employees e,departments d,locations l
WHERE e.department_id=d.department_id
AND d.location_id=l.location_id
ORDER BY last_name;</p> <p>1、多表等值连接的结果为多表的交集部分
2、n表连接，至少需要n-1个连接条件
3、多表的顺序没有要求
4、一般需要为表起别名
5、可以搭配前面介绍的所有子句使用，比如排序，分组，筛选</p> <p>非等值连接</p> <p>查询员工的工资和工资级别</p> <p>SELECT salary,grade_level
FROM employees e,job_grades g
WHERE salary BETWEEN g.lowest_sal AND g.highest_sal
AND g.grade_level='A'</p> <p>自连接</p> <p>查询员工名和上级的名称</p> <p>SELECT e.employee_id,e.last_name,m.employee_id,m.last_name
FROM employees e,employees m
WHERE e.manager_id=m.manager_id</p> <p>外连接</p> <p>应用场景：用于查询一个表中有，另一个表没有的记录
特点
1、外连接的查询结果为主表中的所有记录
如果从表中有和它匹配的，则显示匹配的值
如果从表中没有和它匹配的，则显示null
外连接查询结果=内连接结果+主表中有而从表没有的记录
2、左外连接，left join左边的是主表
右外连接，right join右边的是主表
3、左外和右外交换两个表的顺序，可以实现同样的效果</p> <p>查询男朋友不在男神表的女神名</p> <p>左外连接
select b.name,bo.*
from beauty b
left outer join boys bo
on b.<code>boyfriend_id</code> = bo.<code>id</code>
where bo.<code>id</code> is null;</p> <p>select d.*,e.employee_id
from departments d
left outer join employees e
on d.<code>department_id</code>=e.<code>department_id</code>
where e.<code>employee_id</code> is null;</p> <p>右外连接</p> <p>select d.*,e.employee_id
from employees e
right outer join departments d
on d.<code>department_id</code>=e.<code>department_id</code>
where e.<code>employee_id</code> is null;</p> <p>子查询
出现在其他语句中的select语句，称为子查询或内查询
外部的查询语句，称为主查询或外查询</p> <p>分类：
按子查询出现的位置：
select后面
from后面
where或having后面
exists后面(相关子查询）
按结果集的行列数不同：
标量子查询（结果集只有一行一列）
列子查询 （结果集中只有一列多行）
行子查询（结果集有一行多列）
表子查询（结果集一般为多行多列）</p> <p>where或having后面
1、标量子查询（单行子查询）
2、列子查询（多行子查询）
3、行子查询（多列多行）</p> <p>特点：
子查询放在小括号内
子查询一般放在条件的右侧
标量子查询，一般搭配着单行操作符使用</p> <p>列子查询，一般搭配着多行操作符使用
in,any/some,all</p> <p>标量子查询</p> <p>a.谁的工资比Abel高
select salary
from employees
where last_name='Abel';</p> <p>查询员工的信息，满足salary&gt; a结果</p> <h3 id="_9-索引"><a href="#_9-索引" class="header-anchor">#</a> 9.索引</h3> <p>索引的优点主要有以下儿条:
(1)通过创建唯一索引，可以保证数据库表中每一行数据的唯一性。
(2)可以大大加快数据的查询速度，这也是创建索引的最主要的原因。
(3)在实现数据的参考完整性方面，可以加速表和表之间的连接。
(4)在使用分组和排序子句进行数据查询时，也可以显著减少查询中分组和排序的时间。</p> <p>增加索引也有许多不利，主要表现在如下几个方面:
(1)创建索引和维护索引要耗费时间，并且随着数据量的增加所耗费的时间也会增加。
(2)索引需要占磁盘空间，除了数据表占数据空间之外，每一个索引还要占一定的物理空间，如果有大量的索引，索引文件可能比数据文件更快达到最大文件尺寸。
(3)当对表中的数据进行增加、删除和修改的时候，索引也要动态地维护，这样就降低了数据的维护速度。</p> <h4 id="普通索引和唯一索引"><a href="#普通索引和唯一索引" class="header-anchor">#</a> 普通索引和唯一索引</h4> <p>普通索引是MySQL中的基本索引类型，允许在定义索引的列中插入重复值和空值。
唯一索引，索引列的值必须唯一, 但允许有空值。如果是组合索引，则列值的组合必须唯一。主键索引是一种特殊的唯一索引， 不允许有空值。</p> <h4 id="单列索引和组合索引"><a href="#单列索引和组合索引" class="header-anchor">#</a> 单列索引和组合索引</h4> <p>单列索引即一个索引只包含单个列，一个表可以有多个单列索引。
组合索引指在表的多个字段组合上创建的索引,只有在查询条件中使用了这些字段的左边字段时，索引才会被使用。使用组合索引时遵循最左前缀集合。</p> <h4 id="索引的设计原则"><a href="#索引的设计原则" class="header-anchor">#</a> 索引的设计原则</h4> <p>索引设计不合理或者缺少索引都会对数据库和应用程序的性能造成障碍。高效的索引对于获得良好的性能非常重要。设计索引时，应该考虑以下准则:
(1)索引并非越多越好，一个表中如有大量的索引，不仅占用磁盘空间，而且会影响NSERT、DELETE、UPDATE 等语句的性能，因为当表中的数据更改的同时，索引也会进行调整和更新。</p> <p>(2)避免对经常更新的表进行过多的索引，并且索引中的列尽可能少。而对经常用于查询的字段应该创建索引，但要避免添加不必要的字段。</p> <p>(3)数据量小的表最好不要使用索引，由于数据较少，查询花费的时间可能比遍历索引的时间还要短，索引可能不会产生优化效果。</p> <p>(4)在条件表达式中经常用到的不同值较多的列上建立索引，在不同值很少的列上不要建立索引。比如在学生表的“性别”字段上只有“男”与“女”两个不同值，因此就无须建立索引。如果建立索引不但不会提高查询效率，反而会严重降低数据更新速度。</p> <p>(5)当唯- 性是某种数据本身的特征时，指定唯一 索引。使用唯-索引需能确保定义的列的数据完整性，以提高查询速度。</p> <p>(6)在频繁进行排序或分组(即进行group by或order by操作)的列上建立索引，如果待排序的列有多个，可以在这些列上建立组合索引。</p> <h4 id="创建索引"><a href="#创建索引" class="header-anchor">#</a> 创建索引</h4> <h5 id="创建普通索引"><a href="#创建普通索引" class="header-anchor">#</a> 创建普通索引</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> book
<span class="token punctuation">(</span>
bookid <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
bookname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
authors <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
info <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
<span class="token keyword">comment</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
year_publication <span class="token keyword">year</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
<span class="token keyword">index</span><span class="token punctuation">(</span>year_publication<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>explain语句查看索引是否正在使用</p> <p>explain select * from book where year_publication=1990 \G</p> <h5 id="创建唯一索引"><a href="#创建唯一索引" class="header-anchor">#</a> 创建唯一索引</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t1
<span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
<span class="token keyword">unique</span> <span class="token keyword">index</span> uniqidx<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="创建单列索引"><a href="#创建单列索引" class="header-anchor">#</a> 创建单列索引</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t2
<span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
<span class="token keyword">index</span> singleidx<span class="token punctuation">(</span>name<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="创建组合索引"><a href="#创建组合索引" class="header-anchor">#</a> 创建组合索引</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t3
<span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
age <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
info <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">index</span> multiidx<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="创建全文索引"><a href="#创建全文索引" class="header-anchor">#</a> 创建全文索引</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t4
<span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
age <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
info <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
fulltext <span class="token keyword">index</span> fulltxtidx<span class="token punctuation">(</span>info<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="创建空间索引"><a href="#创建空间索引" class="header-anchor">#</a> 创建空间索引</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t5
<span class="token punctuation">(</span>
g <span class="token keyword">geometry</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
spatial <span class="token keyword">index</span> spatidx<span class="token punctuation">(</span>g<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="在已经存在的表上创建索引"><a href="#在已经存在的表上创建索引" class="header-anchor">#</a> 在已经存在的表上创建索引</h5> <p>使用alter 创建索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> book <span class="token keyword">add</span> <span class="token keyword">index</span> bknameidx<span class="token punctuation">(</span>bookname<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> book <span class="token keyword">add</span> <span class="token keyword">unique</span> <span class="token keyword">index</span> uniqididx<span class="token punctuation">(</span>bookid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> book <span class="token keyword">add</span> <span class="token keyword">index</span> bkcmtidx<span class="token punctuation">(</span><span class="token keyword">comment</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> book <span class="token keyword">add</span> <span class="token keyword">index</span> bkauandinfoidx<span class="token punctuation">(</span>authors<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>info<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> t6
<span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
info <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM<span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> t6 <span class="token keyword">add</span> fulltext <span class="token keyword">index</span> infoftidx<span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> t7 <span class="token punctuation">(</span> g <span class="token keyword">geometry</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM<span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> t7 <span class="token keyword">add</span> spatial <span class="token keyword">index</span> spatidx<span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>使用create index创建索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">index</span> bknameidx <span class="token keyword">on</span> book<span class="token punctuation">(</span>bookname<span class="token punctuation">)</span>:
<span class="token keyword">create</span> <span class="token keyword">unique</span> <span class="token keyword">index</span> uniqididx <span class="token keyword">on</span> book<span class="token punctuation">(</span>bookid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">index</span> bkcmtidx <span class="token keyword">on</span> book<span class="token punctuation">(</span><span class="token keyword">comment</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">index</span> bkauandinfoidx <span class="token keyword">on</span> book<span class="token punctuation">(</span>authors<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>info<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> fulltext <span class="token keyword">index</span> <span class="token keyword">on</span> t6<span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> spatial <span class="token keyword">index</span> spatidx <span class="token keyword">on</span> t7 <span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="删除索引"><a href="#删除索引" class="header-anchor">#</a> 删除索引</h4> <p>使用alter table 删除索引</p> <p>alter table book drop index uniqididx;</p> <p>使用drop index语句删除索引</p> <p>drop index bkauand</p> <h4 id="综合案例-创建索引"><a href="#综合案例-创建索引" class="header-anchor">#</a> 综合案例--创建索引</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> test_table1
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
address <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
description <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">unique</span> <span class="token keyword">index</span> uniqidx<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">index</span> multicolidx<span class="token punctuation">(</span>name<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>address<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">index</span> comidx<span class="token punctuation">(</span>description<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> test_table2
<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
firstname <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
middlename <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
lastname <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
birth <span class="token keyword">date</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
title <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM<span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> test_table2 <span class="token keyword">add</span> <span class="token keyword">index</span> comdateidx<span class="token punctuation">(</span>birth<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> test_table2 <span class="token keyword">add</span> <span class="token keyword">unique</span> <span class="token keyword">index</span> uniqidx2<span class="token punctuation">(</span>id <span class="token keyword">desc</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">index</span> multicolidx2 <span class="token keyword">on</span> test_table2<span class="token punctuation">(</span>firstname<span class="token punctuation">,</span>middlename<span class="token punctuation">,</span>lastname<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> fulltext <span class="token keyword">index</span> ftidx <span class="token keyword">on</span> test_table2<span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> test_table1 <span class="token keyword">drop</span> <span class="token keyword">index</span> uniqidx<span class="token punctuation">;</span>

<span class="token keyword">drop</span> <span class="token keyword">index</span> multicolidx2 <span class="token keyword">on</span> test_table2<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/67e803/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">mysql</div></a> <a href="/pages/613b69/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">postgresql安装</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/67e803/" class="prev">mysql</a></span> <span class="next"><a href="/pages/613b69/">postgresql安装</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/613b69/"><div>
            postgresql安装
            <!----></div></a> <span class="date">06-24</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/8ae632/"><div>
            oracle笔记
            <!----></div></a> <span class="date">06-24</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/765fc1/"><div>
            opengauss笔记
            <!----></div></a> <span class="date">06-24</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:48211701@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/opersdev" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://all.aomtop.com" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2022
    <span>kevin | <a href="https://github.com/opersdev" target="_blank">小诺运维</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.38f1b0a4.js" defer></script><script src="/assets/js/2.6beb1dc7.js" defer></script><script src="/assets/js/49.d92deee5.js" defer></script>
  </body>
</html>
