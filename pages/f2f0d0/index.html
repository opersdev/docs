<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ftp服务器 | 小诺文档中心</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <meta name="description" content="运维技术文档,mysql,k8s,docker,linux,shell,python等技术文章。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="运维技术文档,mysql,k8s,docker,linux,shell,python,技术文档,学习,面试,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.92233c96.css" as="style"><link rel="preload" href="/assets/js/app.38f1b0a4.js" as="script"><link rel="preload" href="/assets/js/2.6beb1dc7.js" as="script"><link rel="preload" href="/assets/js/37.e53fea30.js" as="script"><link rel="prefetch" href="/assets/js/10.4365b950.js"><link rel="prefetch" href="/assets/js/100.8dac6c81.js"><link rel="prefetch" href="/assets/js/101.a5556ac1.js"><link rel="prefetch" href="/assets/js/102.e3ff38b9.js"><link rel="prefetch" href="/assets/js/103.3bcf44f5.js"><link rel="prefetch" href="/assets/js/104.6d56e53e.js"><link rel="prefetch" href="/assets/js/105.4fc9762e.js"><link rel="prefetch" href="/assets/js/106.f507561a.js"><link rel="prefetch" href="/assets/js/107.6c94c756.js"><link rel="prefetch" href="/assets/js/108.f7ff1945.js"><link rel="prefetch" href="/assets/js/109.aeb1e532.js"><link rel="prefetch" href="/assets/js/11.fe1ff844.js"><link rel="prefetch" href="/assets/js/110.dda67b83.js"><link rel="prefetch" href="/assets/js/111.5b990f24.js"><link rel="prefetch" href="/assets/js/112.0a27d3a0.js"><link rel="prefetch" href="/assets/js/113.972cd001.js"><link rel="prefetch" href="/assets/js/114.875814a1.js"><link rel="prefetch" href="/assets/js/115.ec235d59.js"><link rel="prefetch" href="/assets/js/116.03bd2386.js"><link rel="prefetch" href="/assets/js/117.68765825.js"><link rel="prefetch" href="/assets/js/118.9d6d0255.js"><link rel="prefetch" href="/assets/js/119.ff84a82f.js"><link rel="prefetch" href="/assets/js/12.aa21f453.js"><link rel="prefetch" href="/assets/js/120.20639785.js"><link rel="prefetch" href="/assets/js/121.6c546150.js"><link rel="prefetch" href="/assets/js/122.48e85de5.js"><link rel="prefetch" href="/assets/js/123.fc931745.js"><link rel="prefetch" href="/assets/js/124.797d5fda.js"><link rel="prefetch" href="/assets/js/125.b23a31c7.js"><link rel="prefetch" href="/assets/js/126.d7a182fd.js"><link rel="prefetch" href="/assets/js/127.167a63d6.js"><link rel="prefetch" href="/assets/js/128.878d4a7e.js"><link rel="prefetch" href="/assets/js/129.a8957dfa.js"><link rel="prefetch" href="/assets/js/13.161be064.js"><link rel="prefetch" href="/assets/js/130.3961a295.js"><link rel="prefetch" href="/assets/js/131.9c4e7a56.js"><link rel="prefetch" href="/assets/js/132.41d26584.js"><link rel="prefetch" href="/assets/js/133.6d91047e.js"><link rel="prefetch" href="/assets/js/134.121ecf0e.js"><link rel="prefetch" href="/assets/js/135.6e30234c.js"><link rel="prefetch" href="/assets/js/136.6fab7ce4.js"><link rel="prefetch" href="/assets/js/137.209af36e.js"><link rel="prefetch" href="/assets/js/138.660f236e.js"><link rel="prefetch" href="/assets/js/139.81c29d19.js"><link rel="prefetch" href="/assets/js/14.d0f13635.js"><link rel="prefetch" href="/assets/js/140.d8f594ca.js"><link rel="prefetch" href="/assets/js/141.89fbea1c.js"><link rel="prefetch" href="/assets/js/142.643bccec.js"><link rel="prefetch" href="/assets/js/143.f270bffc.js"><link rel="prefetch" href="/assets/js/144.cf6f4c9a.js"><link rel="prefetch" href="/assets/js/145.093699b5.js"><link rel="prefetch" href="/assets/js/146.876575d0.js"><link rel="prefetch" href="/assets/js/147.dc120635.js"><link rel="prefetch" href="/assets/js/148.4a3ba80f.js"><link rel="prefetch" href="/assets/js/149.4afb7469.js"><link rel="prefetch" href="/assets/js/15.af46dbb5.js"><link rel="prefetch" href="/assets/js/150.4eb38cf2.js"><link rel="prefetch" href="/assets/js/151.4fe6a931.js"><link rel="prefetch" href="/assets/js/16.4cbf8beb.js"><link rel="prefetch" href="/assets/js/17.1da2b6ae.js"><link rel="prefetch" href="/assets/js/18.0402bfbf.js"><link rel="prefetch" href="/assets/js/19.230bfe93.js"><link rel="prefetch" href="/assets/js/20.0d20ddb2.js"><link rel="prefetch" href="/assets/js/21.9dbdbc8b.js"><link rel="prefetch" href="/assets/js/22.1410508d.js"><link rel="prefetch" href="/assets/js/23.63089216.js"><link rel="prefetch" href="/assets/js/24.e6fe9306.js"><link rel="prefetch" href="/assets/js/25.1240d0c9.js"><link rel="prefetch" href="/assets/js/26.0f4fb46d.js"><link rel="prefetch" href="/assets/js/27.5b193a22.js"><link rel="prefetch" href="/assets/js/28.90e27733.js"><link rel="prefetch" href="/assets/js/29.cdb75f6c.js"><link rel="prefetch" href="/assets/js/3.1229de89.js"><link rel="prefetch" href="/assets/js/30.23c0524a.js"><link rel="prefetch" href="/assets/js/31.bc292e1e.js"><link rel="prefetch" href="/assets/js/32.79645dcf.js"><link rel="prefetch" href="/assets/js/33.53e29142.js"><link rel="prefetch" href="/assets/js/34.7ce01d2e.js"><link rel="prefetch" href="/assets/js/35.bcdc888c.js"><link rel="prefetch" href="/assets/js/36.00ce19aa.js"><link rel="prefetch" href="/assets/js/38.1b84e50f.js"><link rel="prefetch" href="/assets/js/39.ed0470cb.js"><link rel="prefetch" href="/assets/js/4.93dbb352.js"><link rel="prefetch" href="/assets/js/40.010f2420.js"><link rel="prefetch" href="/assets/js/41.7aefa9d2.js"><link rel="prefetch" href="/assets/js/42.eadeaa1f.js"><link rel="prefetch" href="/assets/js/43.012419aa.js"><link rel="prefetch" href="/assets/js/44.aa86bffd.js"><link rel="prefetch" href="/assets/js/45.b7ce8c1a.js"><link rel="prefetch" href="/assets/js/46.bd51c47b.js"><link rel="prefetch" href="/assets/js/47.71d2a52e.js"><link rel="prefetch" href="/assets/js/48.71b9430b.js"><link rel="prefetch" href="/assets/js/49.d92deee5.js"><link rel="prefetch" href="/assets/js/5.9228d2a8.js"><link rel="prefetch" href="/assets/js/50.2827e7a9.js"><link rel="prefetch" href="/assets/js/51.94c41d82.js"><link rel="prefetch" href="/assets/js/52.73681932.js"><link rel="prefetch" href="/assets/js/53.4db7ebcf.js"><link rel="prefetch" href="/assets/js/54.8e6699ab.js"><link rel="prefetch" href="/assets/js/55.3d832a8c.js"><link rel="prefetch" href="/assets/js/56.43282683.js"><link rel="prefetch" href="/assets/js/57.ea8d4f37.js"><link rel="prefetch" href="/assets/js/58.12ff8ca5.js"><link rel="prefetch" href="/assets/js/59.47100612.js"><link rel="prefetch" href="/assets/js/6.341b2c5d.js"><link rel="prefetch" href="/assets/js/60.914e7e2d.js"><link rel="prefetch" href="/assets/js/61.d9414480.js"><link rel="prefetch" href="/assets/js/62.a3747f73.js"><link rel="prefetch" href="/assets/js/63.1a2e54c1.js"><link rel="prefetch" href="/assets/js/64.d9f9224a.js"><link rel="prefetch" href="/assets/js/65.53e3f7bd.js"><link rel="prefetch" href="/assets/js/66.92d44566.js"><link rel="prefetch" href="/assets/js/67.67aba1d2.js"><link rel="prefetch" href="/assets/js/68.acce7dfb.js"><link rel="prefetch" href="/assets/js/69.3dacbd45.js"><link rel="prefetch" href="/assets/js/7.3d063b98.js"><link rel="prefetch" href="/assets/js/70.b40c0f61.js"><link rel="prefetch" href="/assets/js/71.51b34635.js"><link rel="prefetch" href="/assets/js/72.498f4ff0.js"><link rel="prefetch" href="/assets/js/73.b22c0978.js"><link rel="prefetch" href="/assets/js/74.823f2a12.js"><link rel="prefetch" href="/assets/js/75.d24d261d.js"><link rel="prefetch" href="/assets/js/76.44db605e.js"><link rel="prefetch" href="/assets/js/77.efce42e9.js"><link rel="prefetch" href="/assets/js/78.11405a06.js"><link rel="prefetch" href="/assets/js/79.9f0076d7.js"><link rel="prefetch" href="/assets/js/8.812a9a47.js"><link rel="prefetch" href="/assets/js/80.4fc1dc52.js"><link rel="prefetch" href="/assets/js/81.f8963444.js"><link rel="prefetch" href="/assets/js/82.627d5503.js"><link rel="prefetch" href="/assets/js/83.49c45765.js"><link rel="prefetch" href="/assets/js/84.b2045805.js"><link rel="prefetch" href="/assets/js/85.420cfd4a.js"><link rel="prefetch" href="/assets/js/86.06ff7ec2.js"><link rel="prefetch" href="/assets/js/87.4dfb234a.js"><link rel="prefetch" href="/assets/js/88.079f044f.js"><link rel="prefetch" href="/assets/js/89.bb76f78f.js"><link rel="prefetch" href="/assets/js/9.8be13208.js"><link rel="prefetch" href="/assets/js/90.ae61c8f3.js"><link rel="prefetch" href="/assets/js/91.8728eb6a.js"><link rel="prefetch" href="/assets/js/92.0d8581e8.js"><link rel="prefetch" href="/assets/js/93.e05baea5.js"><link rel="prefetch" href="/assets/js/94.c661a216.js"><link rel="prefetch" href="/assets/js/95.5414604a.js"><link rel="prefetch" href="/assets/js/96.529def2c.js"><link rel="prefetch" href="/assets/js/97.fb2d6168.js"><link rel="prefetch" href="/assets/js/98.69e544d7.js"><link rel="prefetch" href="/assets/js/99.a7993a79.js">
    <link rel="stylesheet" href="/assets/css/0.styles.92233c96.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="小诺文档中心" class="logo"> <span class="site-name can-hide">小诺文档中心</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="https://opersdev.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小诺博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/devops/" class="nav-link">DevOps</a></div><div class="nav-item"><a href="/k8s/" class="nav-link">云原生</a></div><div class="nav-item"><a href="/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/wzdh/" class="nav-link">网址导航</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/opersdev" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/opersdev/docs/img/touxiang.jpg"> <div class="blogger-info"><h3>kevin</h3> <span>运维界的菜鸟</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="https://opersdev.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小诺博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/devops/" class="nav-link">DevOps</a></div><div class="nav-item"><a href="/k8s/" class="nav-link">云原生</a></div><div class="nav-item"><a href="/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/wzdh/" class="nav-link">网址导航</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/opersdev" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>shell编程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>消息队列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ELK</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>自动化运维</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/4d3009/" class="sidebar-link">firewalld</a></li><li><a href="/pages/d05963/" class="sidebar-link">iptables配置</a></li><li><a href="/pages/67994e/" class="sidebar-link">nc命令用法举例</a></li><li><a href="/pages/8e3e93/" class="sidebar-link">supervisor配置</a></li><li><a href="/pages/d5411c/" class="sidebar-link">rsync</a></li><li><a href="/pages/66dc8f/" class="sidebar-link">iscsi配置</a></li><li><a href="/pages/f2f0d0/" aria-current="page" class="active sidebar-link">ftp服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/f2f0d0/#常用匿名ftp配置项" class="sidebar-link">常用匿名ftp配置项</a></li><li class="sidebar-sub-header level2"><a href="/pages/f2f0d0/#常用的本地用户ftp配置项" class="sidebar-link">常用的本地用户ftp配置项</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/pages/f2f0d0/#配置1" class="sidebar-link">配置1</a></li><li class="sidebar-sub-header level4"><a href="/pages/f2f0d0/#配置2" class="sidebar-link">配置2</a></li></ul></li></ul></li><li><a href="/pages/00dac3/" class="sidebar-link">samba配置</a></li><li><a href="/pages/b546c6/" class="sidebar-link">webdav</a></li><li><a href="/pages/10343f/" class="sidebar-link">vi—终端中的编辑器</a></li><li><a href="/pages/8ac15d/" class="sidebar-link">系统工具命令大全</a></li><li><a href="/pages/6bac61/" class="sidebar-link">linux查看主板型号、CPU、显卡、硬盘等信息</a></li><li><a href="/pages/765daa/" class="sidebar-link">一文读懂authorized_keys和known_hosts</a></li></ul></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/devops/#DevOps" data-v-06225672>DevOps</a></li><li data-v-06225672><a href="/devops/#linux" data-v-06225672>linux</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/opersdev" target="_blank" title="作者" class="beLink" data-v-06225672>xiaonuo</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-06-24</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">ftp服务器<!----></h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h1 id="ftp服务概述"><a href="#ftp服务概述" class="header-anchor">#</a> ftp服务概述</h1> <p>ftp连接及传输模式</p> <p>控制连接：tcp 21，用于发送ftp命令信息 ……也叫服务端连接</p> <p>数据连接：tcp 20，用于上传，下载数据 ……也叫客户端连接</p> <p>数据连接的建立类型：</p> <p>主动模式：服务端主动向客户端发起连接</p> <p>被动模式：服务端指定某个端口被动等待客户端连接</p> <p>注：主动模式下客户端未关闭firewall则接收不到服务器20端口的发送请求。此模式应用于未运行firewall的客户端。另客户端关闭firewall如果网络环境的firewall未关闭也将屏蔽20端口的连接请求。</p> <p>ftp传输模式：</p> <p>文本模式：ascii模式，以文本序列传输数据</p> <p>二进制模式：binaty模式，以二进制序列传输数据</p> <p>ftp用户的类型：</p> <p>匿名用户：anonymous或ftp</p> <p>本地用户：账号密码保存在passwd和shadow文件中</p> <p>虚拟用户：使用独立的帐号和密码数据文件</p> <p>常见的ftp服务器程序</p> <p>iis (windows)  serv-u (third windows )  wu-ftpd proftpd</p> <p>vsftpd (very secure ftp daemon)</p> <p>常见的ftp 客户端程序</p> <p>ftp命令行</p> <p>cuteftp  flashfxp leapftp filezilla</p> <p>gftp  kuftp</p> <p>vsftpd服务基础</p> <p>vsftpd软件包</p> <p>官方站点：http://vsftpd.beasts.org/</p> <p>主程序：/usr/sbin/vsftpd</p> <p>服务名：vsftpd</p> <p>用户控制列表文件</p> <p>/etc/vsftpd/ftpusers   ……黑名单</p> <p>/etc/vsftpd/user_list   ……可黑可白，取决于主配置文件</p> <p>主配置文件：</p> <p>/etc/vsftpd/vsftpd.conf</p> <h1 id="主配置文件vsftpd-conf"><a href="#主配置文件vsftpd-conf" class="header-anchor">#</a> 主配置文件vsftpd.conf</h1> <p>常用的全局配置项：</p> <p>listen=yes:是否以独立运行的方式监听服务</p> <p>listen_address=192.168.1.20:设置监听的ip地址</p> <p>注：多网卡服务器ftp针对不同ip地址</p> <p>listen_pror=21:设置监听ftp服务的端口号</p> <p>注：面向外网，不要改；面向内网，且不对外，最好还是改换。</p> <p>write_enable=yes:是否启用写入权限(上传)</p> <p>download_enable=yes:是否允许下载文件</p> <p>userlist_enable=yes:是否启用user_list列表文件</p> <p>userlist_deny=yes:是否禁用user_list列表中的用户</p> <p>注：userlist_deny=no,不禁用，但仅允许这些</p> <p>max_clients=0:限制并发客户端连接数</p> <p>注：0为不限制，个体服务器能承载的并发连接数有上限，无论面向内外网，最好设置承载个数，以防ddos攻击。</p> <p>max_pre_ip=0:限制同一ip地址的并发连接数</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code>local_enable=yes

write_enable=yes

anon_umask=022

guest_enable=yes 启用用户映射功能

guest_username=virtual 指定映射的系统用户名称

pam_service_name=vsftpd.vu 指定新的pam认证文件

开启被动模式：

connect_from_port_20=NO(默认为YES) <span class="token comment">#设置是否允许主动模式</span>
pasv_enable=YES(默认为YES) <span class="token comment">#设置是否允许被动模式</span>
pasv_min_port=50000(default:0(use any port))
pasv_max_port=60000(default:0(use any port))

开启主动模式：

connect_from_port_20=YES
pasv_enable=NO


多用户配置文件
user_config_dir=/etc/vsftpd/userconfig
touch /etc/vsftpd/userconfig/admin

单用户多目录
mount --bind /mnt/CSFS/SYNC /var/ftp/admin/

<span class="token comment"># 表明FTP服务器记录上传下载的情况</span>
xferlog_enable=YES
<span class="token comment"># 表明将记录的上传下载情况写在xferlog_file所指定的文件中， 即xferlog_file选项指定的文件中</span>
xferlog_std_format=YES
xferlog_file=/var/log/xferlog


<span class="token comment"># 启用双份日志。在用xferlog文件记录服务器上传下载情况的同时，</span>
<span class="token comment"># vsftpd_log_file所指定的文件，即/var/log/vsftpd.log也将用来 记录服务器的传输情况</span>
dual_log_enable=YES
vsftpd_log_file=/var/log/vsftpd.log

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h2 id="常用匿名ftp配置项"><a href="#常用匿名ftp配置项" class="header-anchor">#</a> 常用匿名ftp配置项</h2> <p>anonymous_enable=yes:启用匿名访问</p> <p>anon_umask=022:匿名用户所上传文件的权限掩码</p> <p>注：各项用7去减，得755，即上传文件权限</p> <p>anon_root=/var/ftp:匿名用户的根目录</p> <p>anon_upload_enable=yes:允许上传文件</p> <p>anon_mkdir_write_enable=yes:允许创建目录</p> <p>注:只能创建,不能删除和重命名</p> <p>anon_other_write_enable=yes:开放其它写入权限</p> <p>注:可以删除和重命名</p> <p>anon_max_rate=0:限制最大传输速率(字节/秒)</p> <p>注：计算机中的位：二进制中，每个0或1就是一个位(bit)，它是数据存储的最小单位，其中每8个位等于一个字节(byte)</p> <p>故1byte=8bit即1mb=1024kb=1024<em>1024b=1024</em>1024*8b</p> <h2 id="常用的本地用户ftp配置项"><a href="#常用的本地用户ftp配置项" class="header-anchor">#</a> 常用的本地用户ftp配置项</h2> <p>local_enable=yes:是否启用本地系统用户</p> <p>local_umask=022:本地用户所上传文件的权限掩码</p> <p>local_root=/var/ftp:设置本地用户的ftp根目录</p> <p>chroot_local_user=yes:是否将用户禁锢在主目录</p> <p>注：启用local一定要禁锢，否则如果用户权限够大，系统将面临风险。</p> <p>local_max_rate=0:限制最大传输速率(字节/秒)</p> <h1 id="构建匿名用户访问的ftp服务"><a href="#构建匿名用户访问的ftp服务" class="header-anchor">#</a> 构建匿名用户访问的ftp服务</h1> <p>思路：先准备匿名ftp访问的目录，并开放权限，然后编辑匿名用户配置，再启动服务</p> <p>⑴挂载光盘，安装服务端软件</p> <p>mount /dev/cdrom /media</p> <p>rpm -ivh /media/packages/vsftpd-\t</p> <p>⑵准备匿名ftp访问目录，并开放权限</p> <p>chown ftp /var/ftp/pub</p> <p>ls -ld /var/ftp/pub</p> <p>⑶编辑ftp配置文件</p> <p>anonymous_enable=yes</p> <p>local_enable=no</p> <p>write_enable=yes</p> <p>anon_umask=022</p> <p>anon_upload_enable=yes</p> <p>anon_mkdir_write_enable=yes</p> <p>anon_other_write_enable=yes开放其他写入权</p> <p>dirmessage_enable=yes</p> <p>⑷启动服务</p> <p>service vsftpd  start</p> <p>⑸命令行进行验证</p> <p>rpm -ivh  /media/packages/ftp-\t</p> <p>ftp：// 192.168.1.86</p> <h1 id="构建本地访问"><a href="#构建本地访问" class="header-anchor">#</a> 构建本地访问</h1> <p>思路：启动vsftpd.conf配置文件中本地用户，并进行相关配置，然后重新加载配置；编辑user_list，添加用户，再重新加载。</p> <p>⑴安装ftp服务端软件，编辑配置文件</p> <p>local_enable=yes</p> <p>write_enable=yes</p> <p>local_umask=077</p> <p>chroot_local_user=yes</p> <p>⑵重新加载服务配置文件</p> <p>service vsftpd reload</p> <p>⑶启用user_list列表并向user_list添加用户</p> <p>vi /etc/vsftpd/vsftpd.conf</p> <p>userlist_enable=yes</p> <p>userlist_deny=no</p> <p>cat  an  &gt;&gt;/etc/vsftpd/user_list</p> <p>⑷重新加载服务配置文件</p> <p>service vsftpd reload</p> <p>⑸windows客户端访问</p> <p>ftp://192.168.1.86</p> <h1 id="构建基于虚拟用户的ftp服务"><a href="#构建基于虚拟用户的ftp服务" class="header-anchor">#</a> 构建基于虚拟用户的ftp服务</h1> <p>创建帐号数据</p> <p>1 建立虚拟ftp用户的帐号数据 库文件</p> <p>2 创建ftp根目录及虚拟用户映射的系统用户</p> <p>3 建立支持虚拟用户的pam认证文件</p> <p>添加虚拟用户支持</p> <p>1在vsftpd.conf文件中添加支持配置</p> <p>2为个别虚拟用户建立独立的配置文件</p> <p>启动服务并测试</p> <p>1重新加载vsftpd配置</p> <p>2使用虚拟ftp帐户访问测试</p> <p>⑴建立虚拟ftp用户的帐号数据库文件</p> <p>vi /etc/vsftpd/vuser.list</p> <p>mike</p> <p>123</p> <p>tom</p> <p>456</p> <p>jim</p> <p>789</p> <p>cd /etc/vsftpd/</p> <p>db_load -T -t hash -f vuser.list vuser.db</p> <p>注:db_load -t 允许应用程序能够将文本文件转译入数据库，由于我们之后是将虚拟用户的信息以文本方式存储在文件中，为了让vsftpd这个应用程序能够通过文本来载入用户数据，必须使用此选项。</p> <p>如果指定了t就必须追加-t，用来指定转译时的加密算法，有btree,hash,queue,recon</p> <p>-f指向包含用户名和密码的文本文件，奇名偶密，后跟要转换成的文件名。</p> <p>file vuser.db</p> <p>注：file命令用来查看文件的格式</p> <p>chmod 600 /etc/vsftpd/vuser.*</p> <p>注：可能是600，否则认证会出错</p> <p>ls  /etc/vsftpd/vuser.*</p> <p>⑵创建帐号数据</p> <p>创建ftp根目录及虚拟用户映射的系统用户</p> <p>useradd -d /var/ftproot -s /sbin/nologin  virtual</p> <p>chmod  755 /var/ftproot</p> <p>⑶建立支持虚拟用户的pam认证文件</p> <p>vi  /etc/pam.d/vsftpd.vu</p> <p>#%pam-1.0</p> <p>auth  required  pam_userdb.so db=/etc/vsftpd/vuser</p> <p>account required pam_userdb.so db=/etc/vsftpd/vuser</p> <p>注：pam为linux的认证模块</p> <p>⑷在vsftpd.conf文件中添加支持配置</p> <p>vi /etc/vsftpd/vsftpd.conf</p> <p>local_enable=yes</p> <p>write_enable=yes</p> <p>anon_umask=022</p> <p>guest_enable=yes         启用用户映射功能</p> <p>guest_username=virtual     指定映射的系统用户名称</p> <p>pam_service_name=vsftpd.vu    指定新的pam认证文件</p> <p>⑸为不同的虚拟用户建立独立的配置文件</p> <p>在vsftpd.conf文件中添加用户配置目录支持</p> <p>user_config_dir=/etc/vsftpd/vuser_dir</p> <p>为用户mike,john建立独立的配置目录及文件</p> <p>注：配置文件名与用户名相同</p> <p>mkdir /etc/vsftpd/vuser_dir/</p> <p>cd /etc/vsftpd/vuser_dir/</p> <p>vi john</p> <p>anon_upload_enable=yes</p> <p>anon_mkdir_enable=yes</p> <p>touch mike</p> <p>注:配置文件名与用户名相同</p> <p>⑹重新加载vsftpd配置</p> <p>service vsftpd reload</p> <p>⑺使用虚拟ftp帐户访问测试</p> <p>mike用户可以登录浏览下载但无法上传</p> <p>john用户可以登录浏览下载也可以上传</p> <p>匿名用户或其他系统用户将不能登录</p> <h1 id="vsftpd报错"><a href="#vsftpd报错" class="header-anchor">#</a> vsftpd报错</h1> <p>登录vsftpd报530错误解决方法</p> <p>（1）先创建了一个不允许登录系统但可以登录FTP服务器的用户：sudo useradd -d /var/www -s /sbin/nologin ftp1</p> <p>（2）配置vsftpd服务器：sudo vi /etc/vsftpd.conf</p> <p>可增加如下选项：userlist_deny=NO
userlist_enable=YES
userlist_file=/etc/vsftpd_userlist //允许登录服务器的账号列表文件</p> <p>allow_writeable_chroot=YES //解决500 OOPS: vsftpd: refusing to run with writable root inside chroot() 错误</p> <p>（3）创建vsftpd_userlist文件，并在里面加上ftp1</p> <p>但在客户端登录vsftpd时报530 login incorret 错误，后上网搜索相关资料发现是PAM鉴权造成的，解决方法如下：</p> <p>方法（1）：注释掉/etc/pam.d/vsftpd文件里这后一行：</p> <p>auth  required    pam_shells.so，这样不去鉴权</p> <h1 id="vsftpd配置文件参考"><a href="#vsftpd配置文件参考" class="header-anchor">#</a> vsftpd配置文件参考</h1> <h4 id="配置1"><a href="#配置1" class="header-anchor">#</a> 配置1</h4> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code>anonymous_enable=NO

local_enable=YES
write_enable=YES
local_umask=022
local_root=/home/admin/ftp

dirmessage_enable=YES
xferlog_enable=YES
connect_from_port_20=YES
xferlog_std_format=YES

listen=YES
<span class="token comment">#listen_ipv6=YES</span>

pam_service_name=vsftpd
userlist_enable=YES
tcp_wrappers=YES


<span class="token comment">#设置被动模式</span>
pasv_enable=yes
pasv_min_port=50000
pasv_max_port=60000

dual_log_enable=YES
vsftpd_log_file=/var/log/vsftpd.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="配置2"><a href="#配置2" class="header-anchor">#</a> 配置2</h4> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code>
<span class="token comment">#虚拟用户设置</span>
<span class="token comment">#启用用户映射功能</span>
<span class="token comment">#guest_enable=yes          </span>
<span class="token comment">#指定映射的系统用户名称      </span>
<span class="token comment">#guest_username=virtual  </span>
<span class="token comment">#指定新的pam认证文件        </span>
<span class="token comment">#pam_service_name=vsftpd.vu </span>
<span class="token comment">#用户配置目录支持</span>
<span class="token comment">#user_config_dir=/etc/vsftpd/vuser_dir</span>
     
	 
<span class="token comment">#启用匿名访问</span>
anonymous_enable=NO
<span class="token comment">#启用匿名访问</span>
<span class="token comment">#anonymous_enable=YES</span>
<span class="token comment">#匿名用户所上传文件的权限掩码</span>
<span class="token comment">#anon_umask=022</span>
<span class="token comment">#匿名用户的根目录</span>
<span class="token comment">#anon_root=/var/ftp</span>
<span class="token comment">#允许上传文件</span>
<span class="token comment">#anon_upload_enable=yes</span>
<span class="token comment">#允许创建目录</span>
<span class="token comment">#anon_mkdir_write_enable=yes</span>
<span class="token comment">#注:只能创建,不能删除和重命名</span>
<span class="token comment">#开放其它写入权限</span>
<span class="token comment">#anon_other_write_enable=yes</span>
<span class="token comment">#注:可以删除和重命名</span>
<span class="token comment">#限制最大传输速率(字节/秒)</span>
<span class="token comment">#anon_max_rate=0</span>


<span class="token comment">#是否启用本地系统用户</span>
local_enable=yes
<span class="token comment">#本地用户所上传文件的权限掩码</span>
local_umask=022
<span class="token comment">#设置本地用户的ftp根目录</span>
<span class="token comment">#local_root=/var/ftp/admin</span>
<span class="token comment">#是否将用户禁锢在主目录</span>
chroot_local_user=yes
<span class="token comment">#注：启用local一定要禁锢，否则如果用户权限够大，系统将面临风险。</span>
<span class="token comment">#是否启用写入权限(上传)</span>
write_enable=yes
<span class="token comment">#是否允许下载文件</span>
download_enable=yes

<span class="token comment">#限制并发客户端连接数</span>
max_clients=0

<span class="token comment">#设置监听</span>
listen=yes
listen_port=21
<span class="token comment">#是否启用user_list列表文件</span>
userlist_enable=yes

<span class="token comment">#是否禁用user_list列表中的用户</span>
userlist_deny=no

userlist_file=/etc/vsftpd/user_list 

chroot_list_enable=yes
chroot_list_file=/etc/vsftpd/chroot_list
allow_writeable_chroot=YES
<span class="token comment">#设置被动模式</span>
pasv_enable=yes
pasv_min_port=50000
pasv_max_port=60000
     
connect_from_port_20=YES
pam_service_name=vsftpd
	 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><h1 id="pure-ftpd安装"><a href="#pure-ftpd安装" class="header-anchor">#</a> pure-ftpd安装</h1> <p>访问 pure-ftpd 官方网站：</p> <p>https://download.pureftpd.org/pub/pure-ftpd/releases/，当前最新版本为 1.0.47。</p> <p>进入到要下载的目录：</p> <p>[root@ryan plugins]# cd /usr/local/src</p> <p>使用 wget 下载源码包：</p> <p>[root@ryan src]# <strong>wget</strong> https://download.pureftpd.org/pub/pure-ftpd/releases/pure-ftpd-1.0.47.tar.gz</p> <p>解压：</p> <p>[root@ryan src]# <strong>tar zxvf</strong> pure-ftpd-1.0.47.tar.gz</p> <p>进入解压后的目录：</p> <p>[root@ryan src]# cd pure-ftpd-1.0.47</p> <p>通过设置不同的参数，定制相应的功能，生成 Makefile 文件：</p> <p>[root@ryan pure-ftpd-1.0.47]# *<em>./configure *</em>
–prefix=/usr/local/pureftpd <br>
–without-inetd <br>
–with-altlog <br>
–with-puredb <br>
–with-throttling <br>
–with-peruserlimits <br>
–with-tls</p> <p>注意：</p> <p>我们在这里可能会遇到错误，在配置之后系统会提示：configure: error: OpenSSL headers not found.</p> <p>解决方法是：</p> <p><strong>yum install -y openssl openssl-devel</strong>，如果找不到这两个包，则需要安装 yum 的扩展源：<strong>yum install -y epel-release</strong></p> <p>注意：不要随意修改域名解析文件 <strong>/etc/resolv.conf</strong>，否则可能导致 yum 源地址无法解析，而出现 <strong>[Errno 256] No more mirrors to try</strong> 。</p> <p>/etc/resolv.conf 是 DNS 客户机配置文件，用于设置 DNS 服务器的 IP 地址及 DNS 域名，还包含了主机的域名搜索顺序。该文件是由域名解析 器（resolver，一个根据主机名解析IP地址的库）使用的配置文件。它的格式很简单，每行以一个关键字开头，后接一个或多个由空格隔开的参数。</p> <p>编译并安装：</p> <p>[root@ryan pure-ftpd-1.0.47]# <strong>make &amp;&amp; make install</strong></p> <p>验证上一步是否执行成功：</p> <p>[root@ryan pure-ftpd-1.0.47]# <strong>echo $?</strong>
0</p> <p>这里返回值是”0″说明执行成功，否则就是没有成功。</p> <p><strong>2.3 修改配置文件</strong></p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code>vim /usr/local/pureftpd/etc/pure-ftpd.conf 

ChrootEveryone              yes
BrokenClientsCompatibility  no
MaxClientsNumber            50
Daemonize                   yes
MaxClientsPerIP             8
VerboseLog                  no
DisplayDotFiles             yes
AnonymousOnly               no
NoAnonymous                 no
SyslogFacility              ftp
DontResolve                 yes
MaxIdleTime                 15
PureDB                       /usr/local/pureftpd/etc/pureftpd.pdb
LimitRecursion              10000 8
AnonymousCanCreateDirs      no
MaxLoad                     4
AntiWarez                   yes
Umask                       133:022
MinUID                      100
AllowUserFXP                no
AllowAnonymousFXP           no
ProhibitDotFilesWrite       no
ProhibitDotFilesRead        no
AutoRename                  no
AnonymousCantUpload         no
PIDFile                      /usr/local/pureftpd/var/run/pure-ftpd.pid
MaxDiskUsage                99
CustomerProof               yes
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><strong>三、使用 pure-ftpd</strong></p> <p>启动 pure-ftpd：</p> <p>[root@ryan pure-ftpd-1.0.47]# /usr/local/pureftpd/sbin/pure-ftpd /usr/local/pureftpd/etc/pure-ftpd.conf</p> <p>创建系统用户：</p> <p>useradd pure-ftp</p> <p>更改所属主和所属组：</p> <p>chown -R pure-ftp: pure-ftp /data0/www/www.***.com</p> <p>创建ftp用户，注意ftp用户是虚拟用户。</p> <p>/usr/local/pureftpd/bin/pure-pw useradd ftp_test -u pure-ftp -d /data0/www/www.***.com</p> <p>此时会出现为该ftp新用户创建密码的提示：</p> <p>Password:xxxxxx
Enter it again:xxxxxx</p> <p>其中，-u选项将虚拟用户ftp_test与系统用户 pure-ftp关联在一起，即使用ftp_test账号登录FTP后，会以 pure-ftp的身份来读取和下载文件，-d选项后面的目录为ftp_test账户的根目录，这样可以使ftp_test只能访问其根目录/data0/www/www.***.com</p> <p>注意：一般情况下web网站的系统用户为www,为了保障ftp上传修改的文件和目录能够不影响网站系统的使用权限，可以把上面提到的pure-ftp改为www。这样ftp上传到服务器的文件属性就是www了。</p> <p>创建用户信息数据库文件：</p> <p>/usr/local/pureftpd/bin/pure-pw mkdb</p> <p>查看用户列表：</p> <p>/usr/local/pureftpd/bin/pure-pw list</p> <p>显示如下：</p> <p>ftp_test /data0/www/www.***.com/./</p> <p>删除账号的命令为：</p> <p>/usr/local/pureftpd/bin/pure-pw userdel ftp_test</p></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/66dc8f/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">iscsi配置</div></a> <a href="/pages/00dac3/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">samba配置</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/66dc8f/" class="prev">iscsi配置</a></span> <span class="next"><a href="/pages/00dac3/">samba配置</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/613b69/"><div>
            postgresql安装
            <!----></div></a> <span class="date">06-24</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/8ae632/"><div>
            oracle笔记
            <!----></div></a> <span class="date">06-24</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/765fc1/"><div>
            opengauss笔记
            <!----></div></a> <span class="date">06-24</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:48211701@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/opersdev" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://all.xnuo.top" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2022
    <span>kevin | <a href="https://github.com/opersdev" target="_blank">小诺运维</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.38f1b0a4.js" defer></script><script src="/assets/js/2.6beb1dc7.js" defer></script><script src="/assets/js/37.e53fea30.js" defer></script>
  </body>
</html>
